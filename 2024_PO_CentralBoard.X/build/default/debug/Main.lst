CCS PCH C Compiler, Version 5.118, 1073               15-mai-25 11:00

               Filename:   C:\Users\Kylian Dos Santos\MPLABXProjects\Github\2024_PO_CentralBoard-Master\2024_PO_CentralBoard\2024_PO_CentralBoard.X\build\default\debug\Main.lst

               ROM used:   6228 bytes (5%)
                           Largest free fragment is 65536
               RAM used:   200 (6%) at main() level
                           219 (6%) worst case
               Stack used: 6 locations (4 in main + 2 for interrupts)
               Stack size: 30

*
00000:  NOP   
00002:  GOTO   0B9E
*
00008:  MOVWF  04
0000A:  MOVFF  FD8,05
0000E:  MOVFF  FE0,06
00012:  MOVLB  0
00014:  MOVFF  FE9,0C
00018:  MOVFF  FEA,07
0001C:  MOVFF  FE1,08
00020:  MOVFF  FE2,09
00024:  MOVFF  FD9,0A
00028:  MOVFF  FDA,0B
0002C:  MOVFF  FF3,12
00030:  MOVFF  FF4,13
00034:  MOVFF  FFA,14
00038:  MOVFF  FF5,15
0003C:  MOVFF  FF6,16
00040:  MOVFF  FF7,17
00044:  MOVFF  FF8,18
00048:  MOVFF  FFB,19
0004C:  MOVFF  00,0E
00050:  MOVFF  01,0F
00054:  MOVFF  02,10
00058:  MOVFF  03,11
0005C:  MOVLB  E
0005E:  BTFSS  xBD.5
00060:  GOTO   006A
00064:  BTFSC  xC5.5
00066:  GOTO   01B0
0006A:  BTFSS  xC0.5
0006C:  GOTO   0076
00070:  BTFSC  xC8.5
00072:  GOTO   00DA
00076:  MOVFF  0E,00
0007A:  MOVFF  0F,01
0007E:  MOVFF  10,02
00082:  MOVFF  11,03
00086:  MOVFF  0C,FE9
0008A:  MOVFF  07,FEA
0008E:  BSF    07.7
00090:  MOVFF  08,FE1
00094:  MOVFF  09,FE2
00098:  MOVFF  0A,FD9
0009C:  MOVFF  0B,FDA
000A0:  MOVFF  12,FF3
000A4:  MOVFF  13,FF4
000A8:  MOVFF  14,FFA
000AC:  MOVFF  15,FF5
000B0:  MOVFF  16,FF6
000B4:  MOVFF  17,FF7
000B8:  MOVFF  18,FF8
000BC:  MOVFF  19,FFB
000C0:  MOVF   04,W
000C2:  MOVFF  06,FE0
000C6:  MOVFF  05,FD8
000CA:  RETFIE 0
.................... /*============================================================================*/
.................... /* Project     : programmeCircuit                                             */
.................... /* Author      : Cristhian Valencia                                           */
.................... /* Target      : PIC 18F47Q10                                                 */
.................... /*============================================================================*/
.................... 
.................... #include "18F47Q10.h"
.................... //////////// Standard Header file for the PIC18F47Q10 device ////////////////
.................... ///////////////////////////////////////////////////////////////////////////
.................... ////        (C) Copyright 1996, 2020 Custom Computer Services          ////
.................... //// This source code may only be used by licensed users of the CCS C  ////
.................... //// compiler.  This source code may only be distributed to other      ////
.................... //// licensed users of the CCS C compiler.  No other use, reproduction ////
.................... //// or distribution is permitted without written permission.          ////
.................... //// Derivative programs created using this software in object code    ////
.................... //// form are not restricted in any way.                               ////
.................... ///////////////////////////////////////////////////////////////////////////
.................... #device PIC18F47Q10
*
00134:  DATA 72,75
00136:  DATA 6E,31
00138:  DATA 00,00
0013A:  DATA 72,75
0013C:  DATA 6E,32
0013E:  DATA 00,00
00140:  DATA 63,6C
00142:  DATA 72,72
00144:  DATA 00,00
00146:  DATA 63,6C
00148:  DATA 72,67
0014A:  DATA 00,00
0014C:  DATA 63,6C
0014E:  DATA 72,6F
00150:  DATA 00,00
00152:  DATA 63,6C
00154:  DATA 72,62
00156:  DATA 00,00
00158:  DATA 63,6C
0015A:  DATA 72,67
0015C:  DATA 00,00
0015E:  DATA 61,6E
00160:  DATA 69,6D
00162:  DATA 31,33
00164:  DATA 00,00
00166:  DATA 30,30
00168:  DATA 30,30
0016A:  DATA 30,30
0016C:  DATA 00,00
0016E:  CLRF   01
00170:  CLRF   02
00172:  CLRF   00
00174:  CLRF   03
00176:  MOVF   xD9,W
00178:  BNZ   017E
0017A:  MOVF   xD8,W
0017C:  BZ    01AE
0017E:  MOVLW  10
00180:  MOVWF  xDA
00182:  BCF    FD8.0
00184:  RLCF   xD6,F
00186:  RLCF   xD7,F
00188:  RLCF   00,F
0018A:  RLCF   03,F
0018C:  MOVF   xD9,W
0018E:  SUBWF  03,W
00190:  BNZ   0196
00192:  MOVF   xD8,W
00194:  SUBWF  00,W
00196:  BNC   01A6
00198:  MOVF   xD8,W
0019A:  SUBWF  00,F
0019C:  BTFSS  FD8.0
0019E:  DECF   03,F
001A0:  MOVF   xD9,W
001A2:  SUBWF  03,F
001A4:  BSF    FD8.0
001A6:  RLCF   01,F
001A8:  RLCF   02,F
001AA:  DECFSZ xDA,F
001AC:  BRA    0182
001AE:  RETURN 0
*
00270:  ADDWF  FE8,W
00272:  CLRF   FF7
00274:  RLCF   FF7,F
00276:  ADDLW  91
00278:  MOVWF  FF6
0027A:  MOVLW  02
0027C:  ADDWFC FF7,F
0027E:  MOVLW  00
00280:  MOVWF  FF8
00282:  MOVWF  FFB
00284:  TBLRD*-
00286:  MOVF   FF5,W
00288:  MOVWF  FFA
0028A:  TBLRD*
0028C:  MOVF   FF5,W
0028E:  MOVWF  FF9
00290:  DATA 48,02
00292:  DATA 52,02
00294:  DATA 5C,02
00296:  DATA 66,02
00298:  TBLRD*+
0029A:  MOVF   FF5,F
0029C:  BZ    02C4
0029E:  MOVFF  FF6,C5
002A2:  MOVFF  FF7,C6
002A6:  MOVFF  FF8,C7
002AA:  MOVF   FF5,W
002AC:  MOVLB  E
002AE:  BTFSS  xC8.6
002B0:  BRA    02AE
002B2:  MOVWF  x95
002B4:  MOVFF  C5,FF6
002B8:  MOVFF  C6,FF7
002BC:  MOVFF  C7,FF8
002C0:  MOVLB  0
002C2:  BRA    0298
002C4:  RETURN 0
*
006DA:  MOVF   xD1,W
006DC:  CLRF   01
006DE:  SUBWF  xD0,W
006E0:  BC    06E8
006E2:  MOVFF  D0,00
006E6:  BRA    0700
006E8:  CLRF   00
006EA:  MOVLW  08
006EC:  MOVWF  xD2
006EE:  RLCF   xD0,F
006F0:  RLCF   00,F
006F2:  MOVF   xD1,W
006F4:  SUBWF  00,W
006F6:  BTFSC  FD8.0
006F8:  MOVWF  00
006FA:  RLCF   01,F
006FC:  DECFSZ xD2,F
006FE:  BRA    06EE
00700:  RETURN 0
00702:  MOVLW  20
00704:  BTFSS  xCB.4
00706:  MOVLW  30
00708:  MOVWF  xCC
0070A:  MOVFF  CA,00
0070E:  BTFSS  xCA.7
00710:  BRA    0722
00712:  COMF   00,F
00714:  INCF   00,F
00716:  MOVFF  00,CA
0071A:  MOVLW  2D
0071C:  MOVWF  xCC
0071E:  BSF    xCB.7
00720:  BSF    xCB.0
00722:  MOVF   01,W
00724:  MOVFF  CA,D0
00728:  MOVLW  64
0072A:  MOVWF  xD1
0072C:  RCALL  06DA
0072E:  MOVFF  00,CA
00732:  MOVLW  30
00734:  ADDWF  01,W
00736:  MOVWF  xCD
00738:  MOVFF  CA,D0
0073C:  MOVLW  0A
0073E:  MOVWF  xD1
00740:  RCALL  06DA
00742:  MOVLW  30
00744:  ADDWF  00,W
00746:  MOVWF  xCF
00748:  MOVLW  30
0074A:  ADDWF  01,W
0074C:  MOVWF  xCE
0074E:  MOVFF  CC,00
00752:  MOVLW  30
00754:  SUBWF  xCD,W
00756:  BZ    0760
00758:  BSF    xCB.1
0075A:  BTFSC  xCB.7
0075C:  BSF    xCB.2
0075E:  BRA    0784
00760:  BTFSC  xCB.2
00762:  BRA    0784
00764:  MOVFF  CC,CD
00768:  BTFSC  xCB.1
0076A:  BRA    0774
0076C:  MOVLW  30
0076E:  SUBWF  xCE,W
00770:  BZ    077A
00772:  BSF    xCB.0
00774:  BTFSC  xCB.7
00776:  BSF    xCB.1
00778:  BRA    0784
0077A:  BTFSS  FD8.2
0077C:  BSF    xCB.0
0077E:  BTFSC  FD8.2
00780:  MOVFF  CD,CE
00784:  BTFSC  xCB.2
00786:  BRA    0792
00788:  BTFSC  xCB.1
0078A:  BRA    079E
0078C:  BTFSC  xCB.0
0078E:  BRA    07AA
00790:  BRA    07B6
00792:  MOVF   xCC,W
00794:  MOVLB  E
00796:  BTFSS  xC8.6
00798:  BRA    0796
0079A:  MOVWF  x95
0079C:  MOVLB  0
0079E:  MOVF   xCD,W
007A0:  MOVLB  E
007A2:  BTFSS  xC8.6
007A4:  BRA    07A2
007A6:  MOVWF  x95
007A8:  MOVLB  0
007AA:  MOVF   xCE,W
007AC:  MOVLB  E
007AE:  BTFSS  xC8.6
007B0:  BRA    07AE
007B2:  MOVWF  x95
007B4:  MOVLB  0
007B6:  MOVF   xCF,W
007B8:  MOVLB  E
007BA:  BTFSS  xC8.6
007BC:  BRA    07BA
007BE:  MOVWF  x95
007C0:  MOVLB  0
007C2:  RETURN 0
*
007EE:  MOVF   xC6,W
007F0:  MULWF  xC8
007F2:  MOVFF  FF3,01
007F6:  MOVFF  FF4,00
007FA:  MULWF  xC9
007FC:  MOVF   FF3,W
007FE:  ADDWF  00,F
00800:  MOVF   xC7,W
00802:  MULWF  xC8
00804:  MOVF   FF3,W
00806:  ADDWFC 00,W
00808:  MOVWF  02
0080A:  GOTO   0EA8 (RETURN)
0080E:  MOVFF  FEA,D1
00812:  MOVFF  FE9,D0
00816:  SWAPF  xCA,W
00818:  IORLW  F0
0081A:  MOVWF  xCC
0081C:  ADDWF  xCC,F
0081E:  ADDLW  E2
00820:  MOVWF  xCD
00822:  ADDLW  32
00824:  MOVWF  xCF
00826:  MOVF   xCA,W
00828:  ANDLW  0F
0082A:  ADDWF  xCD,F
0082C:  ADDWF  xCD,F
0082E:  ADDWF  xCF,F
00830:  ADDLW  E9
00832:  MOVWF  xCE
00834:  ADDWF  xCE,F
00836:  ADDWF  xCE,F
00838:  SWAPF  xC9,W
0083A:  ANDLW  0F
0083C:  ADDWF  xCE,F
0083E:  ADDWF  xCF,F
00840:  RLCF   xCE,F
00842:  RLCF   xCF,F
00844:  COMF   xCF,F
00846:  RLCF   xCF,F
00848:  MOVF   xC9,W
0084A:  ANDLW  0F
0084C:  ADDWF  xCF,F
0084E:  RLCF   xCC,F
00850:  MOVLW  07
00852:  MOVWF  xCB
00854:  MOVLW  0A
00856:  DECF   xCE,F
00858:  ADDWF  xCF,F
0085A:  BNC   0856
0085C:  DECF   xCD,F
0085E:  ADDWF  xCE,F
00860:  BNC   085C
00862:  DECF   xCC,F
00864:  ADDWF  xCD,F
00866:  BNC   0862
00868:  DECF   xCB,F
0086A:  ADDWF  xCC,F
0086C:  BNC   0868
0086E:  CLRF   FEA
00870:  MOVLW  CB
00872:  MOVWF  FE9
00874:  MOVLW  07
00876:  ANDWF  xD0,W
00878:  BCF    xD0.6
0087A:  ADDWF  FE9,F
0087C:  MOVLW  00
0087E:  ADDWFC FEA,F
00880:  MOVF   FE9,W
00882:  SUBLW  CF
00884:  BNZ   088C
00886:  MOVF   FEA,F
00888:  BNZ   088C
0088A:  BSF    xD0.6
0088C:  MOVF   FEF,W
0088E:  MOVWF  00
00890:  BNZ   08A2
00892:  BTFSC  xD0.6
00894:  BRA    08A2
00896:  BTFSC  xD0.4
00898:  BRA    08B6
0089A:  BTFSC  xD0.3
0089C:  BRA    08A2
0089E:  MOVLW  20
008A0:  BRA    08A8
008A2:  BSF    xD0.3
008A4:  BCF    xD0.4
008A6:  MOVLW  30
008A8:  ADDWF  00,F
008AA:  MOVF   00,W
008AC:  MOVLB  E
008AE:  BTFSS  xC8.4
008B0:  BRA    08AE
008B2:  MOVWF  F99
008B4:  MOVLB  0
008B6:  MOVF   FEE,W
008B8:  BTFSS  xD0.6
008BA:  BRA    0880
008BC:  RETURN 0
008BE:  MOVLW  20
008C0:  BTFSS  xCA.4
008C2:  MOVLW  30
008C4:  MOVWF  xCB
008C6:  MOVFF  C9,00
008CA:  BTFSS  xC9.7
008CC:  BRA    08DE
008CE:  COMF   00,F
008D0:  INCF   00,F
008D2:  MOVFF  00,C9
008D6:  MOVLW  2D
008D8:  MOVWF  xCB
008DA:  BSF    xCA.7
008DC:  BSF    xCA.0
008DE:  MOVF   01,W
008E0:  MOVFF  C9,D0
008E4:  MOVLW  64
008E6:  MOVWF  xD1
008E8:  RCALL  06DA
008EA:  MOVFF  00,C9
008EE:  MOVLW  30
008F0:  ADDWF  01,W
008F2:  MOVWF  xCC
008F4:  MOVFF  C9,D0
008F8:  MOVLW  0A
008FA:  MOVWF  xD1
008FC:  RCALL  06DA
008FE:  MOVLW  30
00900:  ADDWF  00,W
00902:  MOVWF  xCE
00904:  MOVLW  30
00906:  ADDWF  01,W
00908:  MOVWF  xCD
0090A:  MOVFF  CB,00
0090E:  MOVLW  30
00910:  SUBWF  xCC,W
00912:  BZ    091C
00914:  BSF    xCA.1
00916:  BTFSC  xCA.7
00918:  BSF    xCA.2
0091A:  BRA    0940
0091C:  BTFSC  xCA.2
0091E:  BRA    0940
00920:  MOVFF  CB,CC
00924:  BTFSC  xCA.1
00926:  BRA    0930
00928:  MOVLW  30
0092A:  SUBWF  xCD,W
0092C:  BZ    0936
0092E:  BSF    xCA.0
00930:  BTFSC  xCA.7
00932:  BSF    xCA.1
00934:  BRA    0940
00936:  BTFSS  FD8.2
00938:  BSF    xCA.0
0093A:  BTFSC  FD8.2
0093C:  MOVFF  CC,CD
00940:  BTFSC  xCA.2
00942:  BRA    094E
00944:  BTFSC  xCA.1
00946:  BRA    095A
00948:  BTFSC  xCA.0
0094A:  BRA    0966
0094C:  BRA    0972
0094E:  MOVF   xCB,W
00950:  MOVLB  E
00952:  BTFSS  xC8.4
00954:  BRA    0952
00956:  MOVWF  F99
00958:  MOVLB  0
0095A:  MOVF   xCC,W
0095C:  MOVLB  E
0095E:  BTFSS  xC8.4
00960:  BRA    095E
00962:  MOVWF  F99
00964:  MOVLB  0
00966:  MOVF   xCD,W
00968:  MOVLB  E
0096A:  BTFSS  xC8.4
0096C:  BRA    096A
0096E:  MOVWF  F99
00970:  MOVLB  0
00972:  MOVF   xCE,W
00974:  MOVLB  E
00976:  BTFSS  xC8.4
00978:  BRA    0976
0097A:  MOVWF  F99
0097C:  MOVLB  0
0097E:  GOTO   09A6 (RETURN)
*
009E0:  MOVLW  20
009E2:  BTFSS  xCB.4
009E4:  MOVLW  30
009E6:  MOVWF  xCC
009E8:  MOVFF  CA,00
009EC:  BTFSS  xCA.7
009EE:  BRA    0A00
009F0:  COMF   00,F
009F2:  INCF   00,F
009F4:  MOVFF  00,CA
009F8:  MOVLW  2D
009FA:  MOVWF  xCC
009FC:  BSF    xCB.7
009FE:  BSF    xCB.0
00A00:  MOVF   01,W
00A02:  MOVFF  CA,D0
00A06:  MOVLW  64
00A08:  MOVWF  xD1
00A0A:  RCALL  06DA
00A0C:  MOVFF  00,CA
00A10:  MOVLW  30
00A12:  ADDWF  01,W
00A14:  MOVWF  xCD
00A16:  MOVFF  CA,D0
00A1A:  MOVLW  0A
00A1C:  MOVWF  xD1
00A1E:  RCALL  06DA
00A20:  MOVLW  30
00A22:  ADDWF  00,W
00A24:  MOVWF  xCF
00A26:  MOVLW  30
00A28:  ADDWF  01,W
00A2A:  MOVWF  xCE
00A2C:  MOVFF  CC,00
00A30:  MOVLW  30
00A32:  SUBWF  xCD,W
00A34:  BZ    0A3E
00A36:  BSF    xCB.1
00A38:  BTFSC  xCB.7
00A3A:  BSF    xCB.2
00A3C:  BRA    0A62
00A3E:  MOVFF  CC,CD
00A42:  MOVLW  20
00A44:  MOVWF  xCC
00A46:  MOVLW  30
00A48:  SUBWF  xCE,W
00A4A:  BZ    0A54
00A4C:  BSF    xCB.0
00A4E:  BTFSC  xCB.7
00A50:  BSF    xCB.1
00A52:  BRA    0A62
00A54:  BTFSS  FD8.2
00A56:  BSF    xCB.0
00A58:  BNZ   0A62
00A5A:  MOVFF  CD,CE
00A5E:  MOVLW  20
00A60:  MOVWF  xCD
00A62:  BTFSC  xCB.2
00A64:  BRA    0A70
00A66:  BTFSC  xCB.1
00A68:  BRA    0A7C
00A6A:  BTFSC  xCB.0
00A6C:  BRA    0A88
00A6E:  BRA    0A94
00A70:  MOVF   xCC,W
00A72:  MOVLB  E
00A74:  BTFSS  xC8.6
00A76:  BRA    0A74
00A78:  MOVWF  x95
00A7A:  MOVLB  0
00A7C:  MOVF   xCD,W
00A7E:  MOVLB  E
00A80:  BTFSS  xC8.6
00A82:  BRA    0A80
00A84:  MOVWF  x95
00A86:  MOVLB  0
00A88:  MOVF   xCE,W
00A8A:  MOVLB  E
00A8C:  BTFSS  xC8.6
00A8E:  BRA    0A8C
00A90:  MOVWF  x95
00A92:  MOVLB  0
00A94:  MOVF   xCF,W
00A96:  MOVLB  E
00A98:  BTFSS  xC8.6
00A9A:  BRA    0A98
00A9C:  MOVWF  x95
00A9E:  MOVLB  0
00AA0:  RETURN 0
*
01826:  ADDWF  FE8,W
01828:  CLRF   FF7
0182A:  RLCF   FF7,F
0182C:  ADDLW  47
0182E:  MOVWF  FF6
01830:  MOVLW  18
01832:  ADDWFC FF7,F
01834:  MOVLW  00
01836:  MOVWF  FF8
01838:  MOVWF  FFB
0183A:  TBLRD*-
0183C:  MOVF   FF5,W
0183E:  MOVWF  FFA
01840:  TBLRD*
01842:  MOVF   FF5,W
01844:  MOVWF  FF9
01846:  DATA 66,0D
01848:  DATA 88,0E
0184A:  DATA 50,0F
0184C:  DATA 8A,0F
0184E:  DATA CA,10
01850:  DATA 9A,11
01852:  DATA 14,15
01854:  DATA FA,15
.................... 
.................... #list
.................... 
.................... #fuses RSTOSC_HFINTRC_64MHZ, NOWDT, NOPUT, NOBROWNOUT, LVP, NOCLKOUT ,NOEXTOSC, NOLVP, MCLR
.................... #use delay (clock=64000000)
.................... 
.................... #include "ComINF.c"
.................... #include "ComINF.h"
.................... #ifndef COMINF_H
.................... #define	COMINF_H
.................... 
.................... #use rs232(UART1, baud=9600, xmit=PIN_C0, rcv=PIN_C1, stream=UART1)
*
000CC:  MOVLB  E
000CE:  BTFSS  xC8.4
000D0:  BRA    00CE
000D2:  MOVWF  F99
000D4:  MOVLB  0
000D6:  GOTO   0126 (RETURN)
.................... 
.................... #define TAILLE_BUFFER 20
.................... 
.................... unsigned int send_buf_Inf[TAILLE_BUFFER];
.................... unsigned int rxBuffer[20]; 
.................... 
.................... int8 bonusFull = 0;
.................... int8 elevatorBonus = 0;
.................... int8 bonusBlock = 0;
.................... int8 byteNumber = 0;
.................... 
.................... void ComINF_SendData();
.................... void ComINF_Init();
.................... void ComINF_Test();
.................... void ComINF_MessageInfo(int16 idCar, int8 numMessage, int16 time);
.................... 
.................... #endif	/* COMINF_H */
.................... 
.................... 
.................... void ComINF_Init()
.................... {
.................... 
.................... }
.................... 
.................... //void ComINF_Test()
.................... //{
.................... //    send_buf_Inf[0]='1';
.................... //    send_buf_Inf[1]='2';
.................... //    send_buf_Inf[2]='3';
.................... //    send_buf_Inf[3]='4';
.................... //    send_buf_Inf[4]='5';
.................... //    send_buf_Inf[5]='6';
.................... //    send_buf_Inf[6]='7';
.................... //        
.................... //    ComINF_SendData();
.................... //}
.................... 
.................... void ComINF_MessageInfo(int16 idCar, int8 numMessage, int16 time)
.................... {
....................     printf("%04Lu,%02d,%04Lu",idCar,numMessage,time);
*
00982:  MOVLW  09
00984:  MOVWF  FE9
00986:  MOVFF  C5,CA
0098A:  MOVFF  C4,C9
0098E:  RCALL  080E
00990:  MOVLW  2C
00992:  MOVLB  E
00994:  BTFSS  xC8.4
00996:  BRA    0994
00998:  MOVWF  F99
0099A:  MOVFF  C6,C9
0099E:  MOVLW  01
009A0:  MOVLB  0
009A2:  MOVWF  xCA
009A4:  BRA    08BE
009A6:  MOVLW  2C
009A8:  MOVLB  E
009AA:  BTFSS  xC8.4
009AC:  BRA    09AA
009AE:  MOVWF  F99
009B0:  MOVLW  09
009B2:  MOVWF  FE9
009B4:  MOVFF  C8,CA
009B8:  MOVFF  C7,C9
009BC:  MOVLB  0
009BE:  RCALL  080E
009C0:  RETURN 0
.................... }
.................... 
.................... void ComINF_SendData()
.................... {
....................     unsigned int i;
....................     for(i = 0; i < TAILLE_BUFFER; i ++)
....................     {
....................       printf("%c",send_buf_Inf[i]);
....................     }
.................... }
.................... 
.................... //== INTERRUPTION DE RÉCEPTION DE CARACTÈRE ==//
.................... #INT_RDA
.................... void Rx_Da_INT(void)
*
000DA:  MOVLB  0
.................... {  
....................     rxBuffer[byteNumber] = fgetc(UART1);
000DC:  CLRF   03
000DE:  MOVF   47,W
000E0:  ADDLW  30
000E2:  MOVWF  FE9
000E4:  MOVLW  00
000E6:  ADDWFC 03,W
000E8:  MOVWF  FEA
000EA:  MOVLB  E
000EC:  BTFSS  xC8.5
000EE:  BRA    00EC
000F0:  MOVFF  F98,FEF
....................     
....................     byteNumber++;
000F4:  INCF   47,F
....................     if(byteNumber == TAILLE_BUFFER)
000F6:  MOVF   47,W
000F8:  SUBLW  14
000FA:  BNZ   012C
....................     {
....................         byteNumber=0;
000FC:  CLRF   47
....................         
....................         if(bonusBlock == 0)
000FE:  MOVF   46,F
00100:  BNZ   012C
....................         {
....................             bonusFull = 1;
00102:  MOVLW  01
00104:  MOVWF  44
....................             
....................             for(int i = 0; i<TAILLE_BUFFER ;i++)
00106:  MOVLB  0
00108:  CLRF   xD6
0010A:  MOVF   xD6,W
0010C:  SUBLW  13
0010E:  BNC   012A
....................             {
....................                 fputc(rxBuffer[i],UART1);
00110:  CLRF   03
00112:  MOVF   xD6,W
00114:  ADDLW  30
00116:  MOVWF  FE9
00118:  MOVLW  00
0011A:  ADDWFC 03,W
0011C:  MOVWF  FEA
0011E:  MOVFF  FEF,D7
00122:  MOVF   xD7,W
00124:  BRA    00CC
00126:  INCF   xD6,F
00128:  BRA    010A
0012A:  MOVLB  E
....................             } 
....................         }
....................     }
.................... }
.................... 
.................... 
.................... #include "DFPlayer.c"
.................... #include "DFPlayer.h"
.................... #ifndef DFPLAYER_H
.................... #define	DFPLAYER_H
.................... 
0012C:  BCF    xC8.5
0012E:  MOVLB  0
00130:  GOTO   0076
.................... #use rs232(UART2, baud=9600, xmit=PIN_B4, rcv=PIN_B2, stream=UART2)
.................... 
.................... /*
.................... !!! Attention l'ordre des chansons est donné par l'ordre dans lequel vous les copiez !!!
.................... */
.................... 
.................... unsigned int send_buf[9];
.................... 
.................... void DFPlayer_SendData();
.................... void DFPlayer_SetVolume(int volume);
.................... void DFPlayer_NextSong();
.................... void DFPlayer_Pause();
.................... void DFPlayer_PlayBack();
.................... 
.................... void DFPlayer_PlaySongNb(int numSong);
.................... void DFPlayer_Init();
.................... 
.................... #endif	/* DFPLAYER_H */
.................... 
.................... 
.................... /*
.................... !!! Attention l'ordre des chansons est donné par l'ordre dans lequel vous les copiez !!!
.................... */
.................... 
.................... void DFPlayer_Init()
.................... {   
....................     DFPlayer_SetVolume(20);                                                     // Set volume max //
*
003DE:  MOVLW  14
003E0:  MOVWF  xC4
003E2:  BRA    03A2
....................     DFPlayer_PlaySongNb(1);                                                     // Plays first song //
003E4:  MOVLW  01
003E6:  MOVWF  xC4
003E8:  RCALL  03C0
003EA:  GOTO   0CE8 (RETURN)
.................... }
.................... 
.................... void DFPlayer_NextSong()
.................... {
....................    send_buf[0] = 0x7E;                                                          // Start byte //
*
009C2:  MOVLW  7E
009C4:  MOVWF  48
....................    send_buf[1] = 0xFF;                                                          // Version //
009C6:  SETF   49
....................    send_buf[2] = 0x06;                                                          // Len //
009C8:  MOVLW  06
009CA:  MOVWF  4A
....................    send_buf[3] = 0x01;                                                          // Command 0X01 Next //
009CC:  MOVLW  01
009CE:  MOVWF  4B
....................    send_buf[4] = 0x00;                                                          // Feedback, always 0 => 0 //
009D0:  CLRF   4C
....................    send_buf[5] = 0x00;                                                          // High byte (DH), para 1 //
009D2:  CLRF   4D
....................    send_buf[6] = 0x00;                                                          // Low byte (DL), para 2 //
009D4:  CLRF   4E
.................... //!send_buf[7] = 0xFF;                                                          // checksum highbyte //
.................... //!send_buf[8] = 0xE6;                                                          // checksum low byte //
....................    send_buf[7] = 0xEF;                                                          // end //
009D6:  MOVLW  EF
009D8:  MOVWF  4F
....................    
....................    DFPlayer_SendData();
009DA:  RCALL  0376
009DC:  GOTO   0F5A (RETURN)
.................... }
.................... 
.................... //== SET VOLUME FROM 0 TO 30 ==//
.................... void DFPlayer_SetVolume(int volume)
.................... {
....................    unsigned int i;
....................    send_buf[0] = 0x7E;                                                          // Start byte //
*
003A2:  MOVLW  7E
003A4:  MOVWF  48
....................    send_buf[1] = 0xFF;                                                          // Version //
003A6:  SETF   49
....................    send_buf[2] = 0x06;                                                          // Len //
003A8:  MOVLW  06
003AA:  MOVWF  4A
....................    send_buf[3] = 0x06;                                                          // Command 0X01 Next //
003AC:  MOVWF  4B
....................    send_buf[4] = 0x00;                                                          // Feedback, always 0 => 0 //
003AE:  CLRF   4C
....................    send_buf[5] = 0x00;                                                          // High byte (DH), para 1 //
003B0:  CLRF   4D
....................    send_buf[6] = volume;                                                        // Low byte (DL), para 2 //
003B2:  MOVFF  C4,4E
.................... //!send_buf[7] = 0xFF;                                                          // checksum highbyte //
.................... //!send_buf[8] = 0xE6;                                                          // checksum low byte //
....................    send_buf[7] = 0xEF;                                                          // end //
003B6:  MOVLW  EF
003B8:  MOVWF  4F
....................    
....................    DFPlayer_SendData();
003BA:  RCALL  0376
003BC:  GOTO   03E4 (RETURN)
.................... }
.................... 
.................... void DFPlayer_Pause()
.................... {
....................    unsigned int i;
....................    send_buf[0] = 0x7E;                                                          // Start byte //
....................    send_buf[1] = 0xFF;                                                          // Version //
....................    send_buf[2] = 0x06;                                                          // Len //
....................    send_buf[3] = 0x0E;                                                          // Command, 0x0E Pause //
....................    send_buf[4] = 0x00;                                                          // Feedback, always 0 => 0 //
....................    send_buf[5] = 0x00;                                                          // High byte (DH), para 1 //
....................    send_buf[6] = 0x00;                                                          // Low byte (DL), para 2 //
.................... //!send_buf[7] = 0xFF;                                                          // checksum highbyte //
.................... //!send_buf[8] = 0xE6;                                                          // checksum low byte //
....................    send_buf[7] = 0xEF;                                                          // end //
....................    
....................    DFPlayer_SendData();
.................... }
.................... 
.................... void DFPlayer_PlayBack()
.................... {
....................    unsigned int i;
....................    send_buf[0] = 0x7E;                                                          // Start byte //
....................    send_buf[1] = 0xFF;                                                          // Version //
....................    send_buf[2] = 0x06;                                                          // Len //
....................    send_buf[3] = 0x0D;                                                          // Command, 0x0E Playback //
....................    send_buf[4] = 0x00;                                                          // Feedback, always 0 => 0 //
....................    send_buf[5] = 0x00;                                                          // High byte (DH), para 1 //
....................    send_buf[6] = 0x00;                                                          // Low byte (DL), para 2 //
.................... //!send_buf[7] = 0xFF;                                                          // checksum highbyte //
.................... //!send_buf[8] = 0xE6;                                                          // checksum low byte //
....................    send_buf[7] = 0xEF;                                                          // end //
....................    
....................    DFPlayer_SendData();
.................... }
.................... 
.................... //Numéro de chanson
.................... //Attention l'ordre des chansons est donné par l'ordre dans lequel vous les 
.................... //copiez
.................... void DFPlayer_PlaySongNb(int numSong)
.................... {
....................    unsigned int i;
....................    send_buf[0] = 0x7E;                                                          // Start byte //
003C0:  MOVLW  7E
003C2:  MOVWF  48
....................    send_buf[1] = 0xFF;                                                          // Version //
003C4:  SETF   49
....................    send_buf[2] = 0x06;                                                          // Len //
003C6:  MOVLW  06
003C8:  MOVWF  4A
....................    send_buf[3] = 0x03;                                                          // Command, see 3.2 //
003CA:  MOVLW  03
003CC:  MOVWF  4B
....................    send_buf[4] = 0x00;                                                          // Feedback, always 0 => 0 //
003CE:  CLRF   4C
....................    send_buf[5] = 0x00;                                                          // High byte (DH), para 1 //
003D0:  CLRF   4D
....................    send_buf[6] = numSong;                                                       // Low byte (DL), para 2 //
003D2:  MOVFF  C4,4E
.................... //!send_buf[7] = 0xFF;                                                          // checksum highbyte //
.................... //!send_buf[8] = 0xE6;                                                          // checksum low byte //
....................    send_buf[7] = 0xEF;                                                          // end //
003D6:  MOVLW  EF
003D8:  MOVWF  4F
....................    
....................    DFPlayer_SendData();
003DA:  RCALL  0376
003DC:  RETURN 0
.................... }
.................... 
.................... void DFPlayer_SendData()
.................... {
....................     unsigned int i;
....................     for(i = 0; i < 8; i ++)
*
00376:  CLRF   xC6
00378:  MOVF   xC6,W
0037A:  SUBLW  07
0037C:  BNC   03A0
....................     {    
....................       printf("%c",send_buf[i]);
0037E:  CLRF   03
00380:  MOVF   xC6,W
00382:  ADDLW  48
00384:  MOVWF  FE9
00386:  MOVLW  00
00388:  ADDWFC 03,W
0038A:  MOVWF  FEA
0038C:  MOVFF  FEF,C7
00390:  MOVF   xC7,W
00392:  MOVLB  E
00394:  BTFSS  xC8.6
00396:  BRA    0394
00398:  MOVWF  x95
0039A:  MOVLB  0
0039C:  INCF   xC6,F
0039E:  BRA    0378
....................     }
003A0:  RETURN 0
.................... }
.................... 
.................... #include "ComXLR8.c"
.................... #include "ComXLR8.h"
.................... #ifndef COMXLR8_H
.................... #define	COMXLR8_H
.................... 
.................... int fastStart = 0;
.................... 
.................... void startXLR8();
.................... 
.................... #endif	/* COMXLR8_H */
.................... 
.................... 
.................... 
.................... void startXLR8(int8 startBonus)
.................... {
....................     if(startBonus == 1)
*
00AE2:  DECFSZ xC4,W
00AE4:  BRA    0AF2
....................     {
....................         printf("1");
00AE6:  MOVLW  31
00AE8:  MOVLB  E
00AEA:  BTFSS  xC8.6
00AEC:  BRA    0AEA
00AEE:  MOVWF  x95
00AF0:  MOVLB  0
....................     }
....................     
....................     if(startBonus == 0)
00AF2:  MOVF   xC4,F
00AF4:  BNZ   0B02
....................     {
....................         printf("0");
00AF6:  MOVLW  30
00AF8:  MOVLB  E
00AFA:  BTFSS  xC8.6
00AFC:  BRA    0AFA
00AFE:  MOVWF  x95
00B00:  MOVLB  0
....................     }
00B02:  RETURN 0
.................... }
.................... 
.................... #include "ComDisplay.c"
.................... #include "ComDisplay.h"
.................... #ifndef COMDISPLAY_H
.................... #define	COMDISPLAY_H                                                            //#use rs232(UART2, baud=9600, xmit=PIN_B4, rcv=PIN_B2, stream=DISPLAY)
.................... 
.................... #define MODE_RUNNING_TIME   1
.................... #define MODE_NET_TIME       0
.................... 
.................... #define COLOR_RED           0
.................... #define COLOR_ORANGE        1
.................... #define COLOR_GREEN         2
.................... #define COLOR_BLUE          3
.................... 
.................... void ComDisplay_Time(int secondes, int centiemes);
.................... void ComDisplay_Mode(int mode);
.................... void ComDisplay_Color(int color);
.................... 
.................... #endif	
.................... 
.................... /* COMDISPLAY_H */
.................... 
.................... 
.................... //== SET TIME ==// 
.................... void ComDisplay_Time(int secondes, int centiemes)
.................... {
....................     if(secondes > 99)                                                        
*
007C4:  MOVF   xC8,W
007C6:  SUBLW  63
007C8:  BC    07CE
....................     {
....................         secondes = 99;
007CA:  MOVLW  63
007CC:  MOVWF  xC8
....................     }
....................     
....................     if (centiemes >99)
007CE:  MOVF   xC9,W
007D0:  SUBLW  63
007D2:  BC    07D8
....................     {
....................         centiemes = 99;
007D4:  MOVLW  63
007D6:  MOVWF  xC9
....................     }
....................     
....................     printf("%02d%02d",secondes,centiemes);
007D8:  MOVFF  C8,CA
007DC:  MOVLW  01
007DE:  MOVWF  xCB
007E0:  RCALL  0702
007E2:  MOVFF  C9,CA
007E6:  MOVLW  01
007E8:  MOVWF  xCB
007EA:  RCALL  0702
007EC:  RETURN 0
.................... }
.................... 
.................... //== SHOW THE LAST DIGIT ==//
.................... void ComDisplay_Mode(int mode)
.................... {
....................     if(mode == MODE_RUNNING_TIME)
*
0032A:  DECFSZ xC4,W
0032C:  BRA    033E
....................     {
....................         printf("run1");
0032E:  MOVLW  34
00330:  MOVWF  FF6
00332:  MOVLW  01
00334:  MOVWF  FF7
00336:  MOVLW  00
00338:  MOVWF  FF8
0033A:  RCALL  0298
....................     }
0033C:  BRA    0350
....................     else if(mode == MODE_NET_TIME)
0033E:  MOVF   xC4,F
00340:  BNZ   0350
....................     {
....................         printf("run2");
00342:  MOVLW  3A
00344:  MOVWF  FF6
00346:  MOVLW  01
00348:  MOVWF  FF7
0034A:  MOVLW  00
0034C:  MOVWF  FF8
0034E:  RCALL  0298
....................     }   
00350:  RETURN 0
.................... }
.................... 
....................  //== CHANGE COLOR ==//
.................... void ComDisplay_Color(int color)
.................... {
....................     switch (color)
*
002C6:  MOVF   xC4,W
002C8:  XORLW  00
002CA:  BZ    02DA
002CC:  XORLW  02
002CE:  BZ    02EA
002D0:  XORLW  03
002D2:  BZ    02FA
002D4:  XORLW  02
002D6:  BZ    030A
002D8:  BRA    031A
....................     {
....................         case COLOR_RED:
....................             printf("clrr");
002DA:  MOVLW  40
002DC:  MOVWF  FF6
002DE:  MOVLW  01
002E0:  MOVWF  FF7
002E2:  MOVLW  00
002E4:  MOVWF  FF8
002E6:  RCALL  0298
....................             break;
002E8:  BRA    0328
....................             
....................         case COLOR_GREEN:
....................             printf("clrg");
002EA:  MOVLW  46
002EC:  MOVWF  FF6
002EE:  MOVLW  01
002F0:  MOVWF  FF7
002F2:  MOVLW  00
002F4:  MOVWF  FF8
002F6:  RCALL  0298
....................             break;
002F8:  BRA    0328
....................             
....................         case COLOR_ORANGE:
....................             printf("clro");
002FA:  MOVLW  4C
002FC:  MOVWF  FF6
002FE:  MOVLW  01
00300:  MOVWF  FF7
00302:  MOVLW  00
00304:  MOVWF  FF8
00306:  RCALL  0298
....................             break;
00308:  BRA    0328
....................             
....................         case COLOR_BLUE:
....................             printf("clrb");
0030A:  MOVLW  52
0030C:  MOVWF  FF6
0030E:  MOVLW  01
00310:  MOVWF  FF7
00312:  MOVLW  00
00314:  MOVWF  FF8
00316:  RCALL  0298
....................             break;
00318:  BRA    0328
....................             
....................         default:
....................             printf("clrg");                   
0031A:  MOVLW  58
0031C:  MOVWF  FF6
0031E:  MOVLW  01
00320:  MOVWF  FF7
00322:  MOVLW  00
00324:  MOVWF  FF8
00326:  RCALL  0298
....................     }
00328:  RETURN 0
.................... }
.................... 
.................... #include "ComFeux.c"
.................... #include "ComFeux.h"
.................... #ifndef COMFEUX_H
.................... #define	COMFEUX_H
.................... 
.................... #define ETEINT  0
.................... #define ALLUME  1
.................... #define RED     5
.................... #define GREEN   6
.................... 
.................... void ComFeuAllume(int f1, int f2, int f3, int f4, int clr, int lum);
.................... void ComFeuAnim(int lumi);
.................... 
.................... #endif	/* COMFEUX_H */
.................... 
.................... 
.................... //== CHOIX FEUX ==//
.................... void ComFeuAllume(int f1, int f2, int f3, int f4, char clr, int lum)
.................... {
....................     printf("%d%d%d%d%c%d",f1,f2,f3,f4,clr,lum);
*
00AA2:  MOVFF  C4,CA
00AA6:  MOVLW  18
00AA8:  MOVWF  xCB
00AAA:  RCALL  09E0
00AAC:  MOVFF  C5,CA
00AB0:  MOVLW  18
00AB2:  MOVWF  xCB
00AB4:  RCALL  09E0
00AB6:  MOVFF  C6,CA
00ABA:  MOVLW  18
00ABC:  MOVWF  xCB
00ABE:  RCALL  09E0
00AC0:  MOVFF  C7,CA
00AC4:  MOVLW  18
00AC6:  MOVWF  xCB
00AC8:  RCALL  09E0
00ACA:  MOVF   xC8,W
00ACC:  MOVLB  E
00ACE:  BTFSS  xC8.6
00AD0:  BRA    0ACE
00AD2:  MOVWF  x95
00AD4:  MOVFF  C9,CA
00AD8:  MOVLW  18
00ADA:  MOVLB  0
00ADC:  MOVWF  xCB
00ADE:  RCALL  09E0
00AE0:  RETURN 0
.................... }
....................     
.................... //== ACTIVE ANIMATION LEDS ==//
.................... void ComFeuAnim(int lumi)
.................... {
....................     if(lumi == 1)
*
00352:  DECFSZ xC4,W
00354:  BRA    0366
....................     {
....................         printf("anim13");
00356:  MOVLW  5E
00358:  MOVWF  FF6
0035A:  MOVLW  01
0035C:  MOVWF  FF7
0035E:  MOVLW  00
00360:  MOVWF  FF8
00362:  RCALL  0298
....................     }
00364:  BRA    0374
....................     
....................     else
....................     {
....................         printf("000000");
00366:  MOVLW  66
00368:  MOVWF  FF6
0036A:  MOVLW  01
0036C:  MOVWF  FF7
0036E:  MOVLW  00
00370:  MOVWF  FF8
00372:  RCALL  0298
....................     }
00374:  RETURN 0
.................... }
.................... 
.................... #include "I2C.c"
.................... #include "I2C.h"
.................... #ifndef I2C_H
.................... #define	I2C_H
.................... 
.................... //== ADRESSE I2C DU MCP23017 (A0, A1, A2 --> GND = 0x20) ==//
.................... #define MCP23017_ADDRESS 0x40                                                   // CCS utilise l'adresse décalée de 1 bit (7 bits à gauche)
.................... #define IODIRA 0x00                                                             // Registre pour définir la direction des broches GPA
.................... #define IODIRB 0x01                                                             // Registre pour définir la direction des broches GPA
.................... 
.................... #define GPIOA  0x12                                                             // Registre GPIO pour contrôler GPA
.................... #define GPIOB  0x13                                                             // Registre GPIO pour contrôler GPA
.................... 
.................... #use i2c(Master, sda=PIN_C4, scl=PIN_C3, FAST=400000)                           // Configuration I2C rapide (400kHz)
*
003EE:  MOVLW  08
003F0:  MOVWF  01
003F2:  MOVLW  04
003F4:  MOVWF  00
003F6:  DECFSZ 00,F
003F8:  BRA    03F6
003FA:  BCF    F84.3
003FC:  BCF    F89.3
003FE:  MOVLW  04
00400:  MOVWF  00
00402:  DECFSZ 00,F
00404:  BRA    0402
00406:  RLCF   xC6,F
00408:  BCF    F84.4
0040A:  BTFSC  FD8.0
0040C:  BSF    F89.4
0040E:  BTFSS  FD8.0
00410:  BCF    F89.4
00412:  BSF    F89.3
00414:  BTFSS  F8E.3
00416:  BRA    0414
00418:  DECFSZ 01,F
0041A:  BRA    03F2
0041C:  MOVLW  04
0041E:  MOVWF  00
00420:  DECFSZ 00,F
00422:  BRA    0420
00424:  BCF    F84.3
00426:  BCF    F89.3
00428:  NOP   
0042A:  BSF    F89.4
0042C:  MOVLW  04
0042E:  MOVWF  00
00430:  DECFSZ 00,F
00432:  BRA    0430
00434:  MOVLW  04
00436:  MOVWF  00
00438:  DECFSZ 00,F
0043A:  BRA    0438
0043C:  BSF    F89.3
0043E:  BTFSS  F8E.3
00440:  BRA    043E
00442:  CLRF   01
00444:  MOVLW  04
00446:  MOVWF  00
00448:  DECFSZ 00,F
0044A:  BRA    0448
0044C:  BTFSC  F8E.4
0044E:  BSF    01.0
00450:  BCF    F84.3
00452:  BCF    F89.3
00454:  BCF    F84.4
00456:  BCF    F89.4
00458:  RETURN 0
.................... 
.................... void mcp23017_write(unsigned char reg, unsigned char value); 
.................... void setup_mcp23017(); 
.................... void set_gpb7_high(); 
.................... void set_gpb7_low(); 
.................... 
.................... #endif	/* I2C_H */
.................... 
.................... 
.................... //== FONCTION D'ÉCRITURE I2C POUR MCP23017 ==//
.................... void mcp23017_write(unsigned char reg, unsigned char value) 
.................... {
....................     i2c_start();                                                                // Démarrer la communication I2C
0045A:  BSF    F89.4
0045C:  MOVLW  04
0045E:  MOVWF  00
00460:  DECFSZ 00,F
00462:  BRA    0460
00464:  BSF    F89.3
00466:  MOVLW  04
00468:  MOVWF  00
0046A:  DECFSZ 00,F
0046C:  BRA    046A
0046E:  BCF    F84.4
00470:  BCF    F89.4
00472:  MOVLW  04
00474:  MOVWF  00
00476:  DECFSZ 00,F
00478:  BRA    0476
0047A:  BCF    F84.3
0047C:  BCF    F89.3
....................     i2c_write(MCP23017_ADDRESS);                                                // Envoi de l'adresse I2C du MCP23017
0047E:  MOVLW  40
00480:  MOVWF  xC6
00482:  RCALL  03EE
....................     i2c_write(reg);                                                             // Sélection du registre à écrire
00484:  MOVFF  C4,C6
00488:  RCALL  03EE
....................     i2c_write(value);                                                           // Envoi des données
0048A:  MOVFF  C5,C6
0048E:  RCALL  03EE
....................     i2c_stop();                                                                 // Arrêter la communication I2C
00490:  BCF    F89.4
00492:  NOP   
00494:  BSF    F89.3
00496:  BTFSS  F8E.3
00498:  BRA    0496
0049A:  MOVLW  04
0049C:  MOVWF  00
0049E:  DECFSZ 00,F
004A0:  BRA    049E
004A2:  BRA    04A4
004A4:  NOP   
004A6:  BSF    F89.4
004A8:  MOVLW  04
004AA:  MOVWF  00
004AC:  DECFSZ 00,F
004AE:  BRA    04AC
004B0:  RETURN 0
.................... }
.................... 
.................... void setup_mcp23017()
.................... {
....................     mcp23017_write(IODIRA, 0x00);                                               // Configurer toutes les broches du port A (GPA0 à GPA7) comme sorties
004B2:  CLRF   xC4
004B4:  CLRF   xC5
004B6:  RCALL  045A
....................     mcp23017_write(IODIRB, 0x01);                                               // Configurer toutes les broches du port B (GPB0 à GPB7) comme sorties 
004B8:  MOVLW  01
004BA:  MOVWF  xC4
004BC:  MOVWF  xC5
004BE:  RCALL  045A
004C0:  RETURN 0
.................... }
.................... 
.................... //== ACTIVER GPB7 ==//
.................... void set_gpb7_high() 
.................... {     
....................     setup_mcp23017();
*
00B14:  RCALL  04B2
....................     mcp23017_write(GPIOB, 0b11100000);                                          // Mettre GPB7 à HIGH (bit 7 à 1)
00B16:  MOVLW  13
00B18:  MOVWF  xC4
00B1A:  MOVLW  E0
00B1C:  MOVWF  xC5
00B1E:  RCALL  045A
00B20:  RETURN 0
.................... }
.................... 
.................... //== DÉSACTIVER GPB7 ==//
.................... void set_gpb7_low()
.................... {
....................     setup_mcp23017();
*
004C2:  RCALL  04B2
....................     mcp23017_write(GPIOB, 0b00000000);                                          // Mettre GPB7 à LOW (bit 7 à 0) 
004C4:  MOVLW  13
004C6:  MOVWF  xC4
004C8:  CLRF   xC5
004CA:  RCALL  045A
004CC:  RETURN 0
.................... }
.................... 
.................... #include "I2C2.c"
.................... #include "I2C2.h"
.................... #ifndef I2C2_H
.................... #define	I2C2_H
.................... 
.................... //== Adresse I2C du MCP23017 (A0, A1, A2 à GND = 0x20) ==//
.................... #define MCP23017_ADDRESS_2 0x48                                                 // CCS utilise l'adresse décalée de 1 bit (7 bits à gauche)
.................... #define IODIRA_2 0x00                                                           // Registre pour définir la direction des broches GPA
.................... #define IODIRB_2 0x01                                                           // Registre pour définir la direction des broches GPA
.................... 
.................... #define GPIOA_2  0x12                                                           // Registre GPIO pour contrôler GPA
.................... #define GPIOB_2  0x13                                                           // Registre GPIO pour contrôler GPA
.................... 
.................... #use i2c(Master, sda=PIN_C4, scl=PIN_C3, FAST=400000)                           // Configuration I2C rapide (400kHz)
*
00584:  MOVLW  08
00586:  MOVWF  01
00588:  MOVLW  04
0058A:  MOVWF  00
0058C:  DECFSZ 00,F
0058E:  BRA    058C
00590:  BCF    F84.3
00592:  BCF    F89.3
00594:  MOVLW  04
00596:  MOVWF  00
00598:  DECFSZ 00,F
0059A:  BRA    0598
0059C:  RLCF   xC6,F
0059E:  BCF    F84.4
005A0:  BTFSC  FD8.0
005A2:  BSF    F89.4
005A4:  BTFSS  FD8.0
005A6:  BCF    F89.4
005A8:  BSF    F89.3
005AA:  BTFSS  F8E.3
005AC:  BRA    05AA
005AE:  DECFSZ 01,F
005B0:  BRA    0588
005B2:  MOVLW  04
005B4:  MOVWF  00
005B6:  DECFSZ 00,F
005B8:  BRA    05B6
005BA:  BCF    F84.3
005BC:  BCF    F89.3
005BE:  NOP   
005C0:  BSF    F89.4
005C2:  MOVLW  04
005C4:  MOVWF  00
005C6:  DECFSZ 00,F
005C8:  BRA    05C6
005CA:  MOVLW  04
005CC:  MOVWF  00
005CE:  DECFSZ 00,F
005D0:  BRA    05CE
005D2:  BSF    F89.3
005D4:  BTFSS  F8E.3
005D6:  BRA    05D4
005D8:  CLRF   01
005DA:  MOVLW  04
005DC:  MOVWF  00
005DE:  DECFSZ 00,F
005E0:  BRA    05DE
005E2:  BTFSC  F8E.4
005E4:  BSF    01.0
005E6:  BCF    F84.3
005E8:  BCF    F89.3
005EA:  BCF    F84.4
005EC:  BCF    F89.4
005EE:  RETURN 0
.................... 
.................... int8 stateGpiob_2 = 0;
.................... int8 stateGpioa_2 = 0;
.................... 
.................... void mcp23017_write_2(unsigned char reg, unsigned char value); 
.................... void bonus_activator(); 
.................... 
.................... void activate_bonus_1_lever(); 
.................... void deactivate_bonus_1_lever(); 
.................... 
.................... void activate_bonus_2_lever(); 
.................... void deactivate_bonus_2_lever();
.................... 
.................... void activate_bonus_3_lever(); 
.................... void deactivate_bonus_3_lever();
.................... 
.................... void activate_bonus_4_elevator(); 
.................... void deactivate_bonus_4_elevator();
.................... 
.................... void activate_bonus_5_elevator(); 
.................... void deactivate_bonus_5_elevator();
.................... 
.................... void activate_bonus_6_blower(); 
.................... void deactivate_bonus_6_blower();
.................... 
.................... void activate_bonus_7_blower(); 
.................... void deactivate_bonus_7_blower();
.................... 
.................... void activate_bonus_8_startBlower(); 
.................... void deactivate_bonus_8_startBlower();
.................... 
.................... #endif	/* I2C2_H */
.................... 
.................... 
.................... //== FONCTION D'ÉCRITURE I2C POUR MCP23017 ==//
.................... void mcp23017_write_2(unsigned char reg, unsigned char value) 
.................... {
....................     i2c_start();                                                                // Démarrer la communication I2C
005F0:  BSF    F89.4
005F2:  MOVLW  04
005F4:  MOVWF  00
005F6:  DECFSZ 00,F
005F8:  BRA    05F6
005FA:  BSF    F89.3
005FC:  MOVLW  04
005FE:  MOVWF  00
00600:  DECFSZ 00,F
00602:  BRA    0600
00604:  BCF    F84.4
00606:  BCF    F89.4
00608:  MOVLW  04
0060A:  MOVWF  00
0060C:  DECFSZ 00,F
0060E:  BRA    060C
00610:  BCF    F84.3
00612:  BCF    F89.3
....................     i2c_write(MCP23017_ADDRESS_2);                                              // Envoi de l'adresse I2C du MCP23017
00614:  MOVLW  48
00616:  MOVWF  xC6
00618:  RCALL  0584
....................     i2c_write(reg);                                                             // Sélection du registre à écrire
0061A:  MOVFF  C4,C6
0061E:  RCALL  0584
....................     i2c_write(value);                                                           // Envoi des données
00620:  MOVFF  C5,C6
00624:  RCALL  0584
....................     i2c_stop();                                                                 // Arrêter la communication I2C
00626:  BCF    F89.4
00628:  NOP   
0062A:  BSF    F89.3
0062C:  BTFSS  F8E.3
0062E:  BRA    062C
00630:  MOVLW  04
00632:  MOVWF  00
00634:  DECFSZ 00,F
00636:  BRA    0634
00638:  BRA    063A
0063A:  NOP   
0063C:  BSF    F89.4
0063E:  MOVLW  04
00640:  MOVWF  00
00642:  DECFSZ 00,F
00644:  BRA    0642
00646:  RETURN 0
.................... }
.................... 
.................... void bonus_activator()
.................... {
....................     mcp23017_write_2(IODIRA_2, 0x01);                                           // Configurer toutes les broches du port A (GPA0 à GPA7) comme sorties
00648:  CLRF   xC4
0064A:  MOVLW  01
0064C:  MOVWF  xC5
0064E:  RCALL  05F0
....................     mcp23017_write_2(IODIRB_2, 0x01);                                           // Configurer toutes les broches du port B (GPB0 à GPB7) comme sorties 
00650:  MOVLW  01
00652:  MOVWF  xC4
00654:  MOVWF  xC5
00656:  RCALL  05F0
00658:  RETURN 0
.................... }
.................... 
.................... //== ACTIVER BONUS ASCENSEUR 1 ==//
.................... void activate_bonus_1_lever() 
.................... {     
....................     bonus_activator();
*
00B34:  RCALL  0648
....................     stateGpiob_2 |= 0x80; 
00B36:  BSF    54.7
....................     mcp23017_write_2(GPIOB_2, stateGpiob_2);                                    // Mettre GPB7 à HIGH (bit 7 à 1)
00B38:  MOVLW  13
00B3A:  MOVWF  xC4
00B3C:  MOVFF  54,C5
00B40:  RCALL  05F0
00B42:  RETURN 0
.................... }
.................... 
.................... //== DÉSACTIVER BONUS ASCENSEUR 1 ==//
.................... void deactivate_bonus_1_lever()
.................... {
....................     bonus_activator();
*
0065A:  RCALL  0648
....................     stateGpiob_2 &= 0x7F;
0065C:  BCF    54.7
....................     mcp23017_write_2(GPIOB_2, stateGpiob_2);                                    // Mettre GPB7 à LOW (bit 7 à 0) 
0065E:  MOVLW  13
00660:  MOVWF  xC4
00662:  MOVFF  54,C5
00666:  RCALL  05F0
00668:  RETURN 0
.................... }
.................... 
.................... ////////////////////////////////////////////////////////////////////////////////
.................... 
.................... //== ACTIVER BONUS ASCENSEUR 2 ==//
.................... void activate_bonus_2_lever() 
.................... {     
....................     bonus_activator();
*
00B44:  RCALL  0648
....................     stateGpiob_2 |= 0x40; 
00B46:  BSF    54.6
....................     mcp23017_write_2(GPIOB_2, stateGpiob_2);                                    // Mettre GPB6 à HIGH (bit 6 à 1)
00B48:  MOVLW  13
00B4A:  MOVWF  xC4
00B4C:  MOVFF  54,C5
00B50:  RCALL  05F0
00B52:  GOTO   11D4 (RETURN)
.................... }
.................... 
.................... //== DÉSACTIVER BONUS ASCENSEUR 2 ==//
.................... void deactivate_bonus_2_lever()
.................... {
....................     bonus_activator();
*
0066A:  RCALL  0648
....................     stateGpiob_2 &= 0xBF;
0066C:  BCF    54.6
....................     mcp23017_write_2(GPIOB_2, stateGpiob_2);                                    // Mettre GPB6 à LOW (bit 6 à 0) 
0066E:  MOVLW  13
00670:  MOVWF  xC4
00672:  MOVFF  54,C5
00676:  RCALL  05F0
00678:  RETURN 0
.................... }
.................... 
.................... ////////////////////////////////////////////////////////////////////////////////
.................... 
.................... //== ACTIVER BONUS 3 ==//
.................... void activate_bonus_3_lever() 
.................... {     
....................     bonus_activator();
*
00B56:  RCALL  0648
....................     stateGpiob_2 |= 0x20; 
00B58:  BSF    54.5
....................     mcp23017_write_2(GPIOB_2, stateGpiob_2);                                    // Mettre GPB5 à HIGH (bit 5 à 1)
00B5A:  MOVLW  13
00B5C:  MOVWF  xC4
00B5E:  MOVFF  54,C5
00B62:  RCALL  05F0
00B64:  GOTO   11D6 (RETURN)
.................... }
.................... 
.................... //== DÉSACTIVER BONUS 3 ==//
.................... void deactivate_bonus_3_lever()
.................... {
....................     bonus_activator();
*
0067A:  RCALL  0648
....................     stateGpiob_2 &= 0xDF;
0067C:  BCF    54.5
....................     mcp23017_write_2(GPIOB_2, stateGpiob_2);                                    // Mettre GPB5 à LOW (bit 5 à 0) 
0067E:  MOVLW  13
00680:  MOVWF  xC4
00682:  MOVFF  54,C5
00686:  RCALL  05F0
00688:  RETURN 0
.................... }
.................... 
.................... ////////////////////////////////////////////////////////////////////////////////
.................... 
.................... //== ACTIVER BONUS 4 ==//
.................... void activate_bonus_4_elevator() 
.................... {     
....................     bonus_activator();
*
00B22:  RCALL  0648
....................     stateGpiob_2 |= 0x10; 
00B24:  BSF    54.4
....................     mcp23017_write_2(GPIOB_2, stateGpiob_2);                                    // Mettre GPB4 à HIGH (bit 4 à 1)
00B26:  MOVLW  13
00B28:  MOVWF  xC4
00B2A:  MOVFF  54,C5
00B2E:  RCALL  05F0
00B30:  GOTO   11B6 (RETURN)
.................... }
.................... 
.................... //== DÉSACTIVER BONUS 4 ==//
.................... void deactivate_bonus_4_elevator()
.................... {
....................     bonus_activator();
*
0068A:  RCALL  0648
....................     stateGpiob_2 &= 0xEF;
0068C:  BCF    54.4
....................     mcp23017_write_2(GPIOB_2, stateGpiob_2);                                    // Mettre GPB4 à LOW (bit 4 à 0) 
0068E:  MOVLW  13
00690:  MOVWF  xC4
00692:  MOVFF  54,C5
00696:  RCALL  05F0
00698:  RETURN 0
.................... }
.................... 
.................... 
.................... ////////////////////////////////////////////////////////////////////////////////
.................... 
.................... //== ACTIVER BONUS 5 ==//
.................... void activate_bonus_5_elevator()
.................... {     
....................     bonus_activator();
*
00B7A:  RCALL  0648
....................     stateGpiob_2 |= 0x08; 
00B7C:  BSF    54.3
....................     mcp23017_write_2(GPIOB_2, stateGpiob_2);                                    // Mettre GPB3 à HIGH (bit 3 à 1)
00B7E:  MOVLW  13
00B80:  MOVWF  xC4
00B82:  MOVFF  54,C5
00B86:  RCALL  05F0
00B88:  GOTO   12A4 (RETURN)
.................... }
.................... 
.................... //== DÉSACTIVER BONUS 5 ==//
.................... void deactivate_bonus_5_elevator()
.................... {
....................     bonus_activator();
*
0069A:  RCALL  0648
....................     stateGpiob_2 &= 0xF7;
0069C:  BCF    54.3
....................     mcp23017_write_2(GPIOB_2, stateGpiob_2);                                    // Mettre GPB3 à LOW (bit 3 à 0) 
0069E:  MOVLW  13
006A0:  MOVWF  xC4
006A2:  MOVFF  54,C5
006A6:  RCALL  05F0
006A8:  RETURN 0
.................... }
.................... 
.................... ////////////////////////////////////////////////////////////////////////////////
.................... 
.................... //== ACTIVER BONUS 6 ==//
.................... void activate_bonus_6_blower()
.................... {     
....................     bonus_activator();
*
00B68:  RCALL  0648
....................     stateGpiob_2 |= 0x04; 
00B6A:  BSF    54.2
....................     mcp23017_write_2(GPIOB_2, stateGpiob_2);                                    // Mettre GPB2 à HIGH (bit 2 à 1)
00B6C:  MOVLW  13
00B6E:  MOVWF  xC4
00B70:  MOVFF  54,C5
00B74:  RCALL  05F0
00B76:  GOTO   11F6 (RETURN)
.................... }
.................... 
.................... //== DÉSACTIVER BONUS 6 ==//
.................... void deactivate_bonus_6_blower()
.................... {
....................     bonus_activator();
*
006AA:  RCALL  0648
....................     stateGpiob_2 &= 0xFB;
006AC:  BCF    54.2
....................     mcp23017_write_2(GPIOB_2, stateGpiob_2);                                    // Mettre GPB2 à LOW (bit 2 à 0) 
006AE:  MOVLW  13
006B0:  MOVWF  xC4
006B2:  MOVFF  54,C5
006B6:  RCALL  05F0
006B8:  RETURN 0
.................... }
.................... 
.................... ////////////////////////////////////////////////////////////////////////////////
.................... 
.................... //== ACTIVER BONUS 7 ==//
.................... void activate_bonus_7_blower() 
.................... {     
....................     bonus_activator();
*
00B8C:  RCALL  0648
....................     stateGpiob_2 |= 0x02; 
00B8E:  BSF    54.1
....................     mcp23017_write_2(GPIOB_2, stateGpiob_2);                                    // Mettre GPB1 à HIGH (bit 1 à 1)
00B90:  MOVLW  13
00B92:  MOVWF  xC4
00B94:  MOVFF  54,C5
00B98:  RCALL  05F0
00B9A:  GOTO   12BA (RETURN)
.................... }
.................... 
.................... //== DÉSACTIVER BONUS 7 ==//
.................... void deactivate_bonus_7_blower()
.................... {
....................     bonus_activator();
*
006BA:  RCALL  0648
....................     stateGpiob_2 &= 0xFD;
006BC:  BCF    54.1
....................     mcp23017_write_2(GPIOB_2, stateGpiob_2);                                    // Mettre GPB1 à LOW (bit 1 à 0) 
006BE:  MOVLW  13
006C0:  MOVWF  xC4
006C2:  MOVFF  54,C5
006C6:  RCALL  05F0
006C8:  RETURN 0
.................... }
.................... 
.................... ////////////////////////////////////////////////////////////////////////////////
.................... 
.................... //== ACTIVER BONUS 8 ==//
.................... void activate_bonus_8_startBlower()
.................... {     
....................     bonus_activator();
*
00B04:  RCALL  0648
....................     stateGpioa_2 |= 0x80; 
00B06:  BSF    55.7
....................     mcp23017_write_2(GPIOA_2, stateGpioa_2);                                    // Mettre GPB0 à HIGH (bit 0 à 1)
00B08:  MOVLW  12
00B0A:  MOVWF  xC4
00B0C:  MOVFF  55,C5
00B10:  RCALL  05F0
00B12:  RETURN 0
.................... }
.................... 
.................... //== DÉSACTIVER BONUS 8 ==//
.................... void deactivate_bonus_8_startBlower()
.................... {
....................     bonus_activator();
*
006CA:  RCALL  0648
....................     stateGpioa_2 &= 0x7F;
006CC:  BCF    55.7
....................     mcp23017_write_2(GPIOA_2, stateGpioa_2);                                    // Mettre GPB0 à LOW (bit 0 à 0) 
006CE:  MOVLW  12
006D0:  MOVWF  xC4
006D2:  MOVFF  55,C5
006D6:  RCALL  05F0
006D8:  RETURN 0
.................... }
.................... 
.................... #include "ws2812.c"
.................... #include "ws2812.h"
.................... #ifndef WS2812_H
.................... #define WS2812_H
.................... 
.................... #include <stdint.h>
.................... ///////////////////////////////////////////////////////////////////////////
.................... ////                                                                   ////
.................... ////                           stdint.h                                ////
.................... ////                                                                   ////
.................... //// Standard integer definitions.                                     ////
.................... ////                                                                   ////
.................... ///////////////////////////////////////////////////////////////////////////
.................... ////        (C) Copyright 1996,2008 Custom Computer Services           ////
.................... //// This source code may only be used by licensed users of the CCS C  ////
.................... //// compiler.  This source code may only be distributed to other      ////
.................... //// licensed users of the CCS C compiler.  No other use, reproduction ////
.................... //// or distribution is permitted without written permission.          ////
.................... //// Derivative programs created using this software in object code    ////
.................... //// form are not restricted in any way.                               ////
.................... ///////////////////////////////////////////////////////////////////////////
.................... 
.................... #ifndef _STDINT
.................... 
.................... #define _STDINT
.................... 
.................... //////////// exact width
.................... 
.................... typedef signed int8 int8_t;
.................... typedef unsigned int8 uint8_t;
.................... typedef signed int16 int16_t;
.................... typedef unsigned int16 uint16_t;
.................... typedef signed int32 int32_t;
.................... typedef unsigned int32 uint32_t;
.................... 
.................... #if defined(__PCD__)
.................... //typedef signed int24 int24_t;
.................... //typedef unsigned int24 uint24_t;
.................... typedef signed int64 int64_t;
.................... typedef unsigned int64 uint64_t;
.................... #endif
.................... 
.................... #define INT8_MAX  (127)
.................... #define INT8_MIN  (-128)
.................... #define UINT8_MAX (255)
.................... 
.................... #define INT16_MAX  (32767)
.................... #define INT16_MIN  (-32768)
.................... #define UINT16_MAX (65535)
.................... 
.................... #define INT32_MAX  (2147483647)
.................... #define INT32_MIN  (-2147483648)
.................... #define UINT32_MAX (4294967295)
.................... 
.................... #if defined(__PCD__)
.................... //#define INT24_MAX  (8388607)
.................... //#define INT24_MIN  (-8388608)
.................... //#define UINT24_MAX (16777215)
.................... 
.................... #define INT64_MAX  (9223372036854775807)
.................... #define INT64_MIN  (-9223372036854775808)
.................... #define UINT64_MAX (18446744073709551615)
.................... #endif
.................... 
.................... ///////// minimum width
.................... 
.................... typedef signed int8 int_least8_t;
.................... typedef unsigned int8 uint_least8_t;
.................... typedef signed int16 int_least16_t;
.................... typedef unsigned int16 uint_least16_t;
.................... typedef signed int32 int_least32_t;
.................... typedef unsigned int32 uint_least32_t;
.................... 
.................... #if defined(__PCD__)
.................... //typedef signed int24 int_least24_t;
.................... //typedef unsigned int24 uint_least24_t;
.................... typedef signed int64 int_least64_t;
.................... typedef unsigned int64 uint_least64_t;
.................... #endif
.................... 
.................... #define INT_LEAST8_MAX  (127)
.................... #define INT_LEAST8_MIN  (-128)
.................... #define UINT_LEAST8_MAX (255)
.................... 
.................... #define INT_LEAST16_MAX  (32767)
.................... #define INT_LEAST16_MIN  (-32768)
.................... #define UINT_LEAST16_MAX (65535)
.................... 
.................... #define INT_LEAST32_MAX  (2147483647)
.................... #define INT_LEAST32_MIN  (-2147483648)
.................... #define UINT_LEAST32_MAX (4294967295)
.................... 
.................... #if defined(__PCD__)
.................... //#define INT_LEAST24_MAX  (8388607)
.................... //#define INT_LEAST24_MIN  (-8388608)
.................... //#define UINT_LEAST24_MAX (16777215)
.................... 
.................... #define INT_LEAST64_MAX  (9223372036854775807)
.................... #define INT_LEAST64_MIN  (-9223372036854775808)
.................... #define UINT_LEAST64_MAX (18446744073709551615)
.................... #endif
.................... 
.................... ///////// fastest width
.................... 
.................... #if defined(__PCD__)
.................... typedef signed int16 int_fast8_t;
.................... typedef unsigned int16 uint_fast8_t;
.................... #define INT_FAST8_MAX  (32767)
.................... #define INT_FAST8_MIN  (-32768)
.................... #define UINT_FAST8_MAX (65535)
.................... typedef signed int16 int_fast16_t;
.................... typedef unsigned int16 uint_fast16_t;
.................... //typedef signed int24 int_fast24_t;
.................... //typedef unsigned int24 uint_fast24_t;
.................... typedef signed int64 int_fast64_t;
.................... typedef unsigned int64 uint_fast64_t;
.................... #else
.................... typedef signed int8 int_fast8_t;
.................... typedef unsigned int8 uint_fast8_t;
.................... #define INT_FAST8_MAX  (127)
.................... #define INT_FAST8_MIN  (-128)
.................... #define UINT_FAST8_MAX (255)
.................... typedef signed int16 int_fast16_t;
.................... typedef unsigned int16 uint_fast16_t;
.................... #endif
.................... 
.................... typedef signed int32 int_fast32_t;
.................... typedef unsigned int32 uint_fast32_t;
.................... 
.................... #define INT_FAST16_MAX  (32767)
.................... #define INT_FAST16_MIN  (-32768)
.................... #define UINT_FAST16_MAX (65535)
.................... 
.................... #define INT_FAST32_MAX  (2147483647)
.................... #define INT_FAST32_MIN  (-2147483648)
.................... #define UINT_FAST32_MAX (4294967295)
.................... 
.................... #if defined(__PCD__)
.................... //#define INT_FAST24_MAX  (8388607)
.................... //#define INT_FAST24_MIN  (-8388608)
.................... //#define UINT_FAST24_MAX (16777215)
.................... 
.................... #define INT_FAST64_MAX  (9223372036854775807)
.................... #define INT_FAST64_MIN  (-9223372036854775808)
.................... #define UINT_FAST64_MAX (18446744073709551615)
.................... #endif
.................... 
.................... //////////// big enough to hold pointers (OPTIONAL)
.................... 
.................... #if defined(__PCD__)
....................    typedef unsigned int32 uintptr_t;
....................    typedef signed int32 intptr_t;
.................... #else
....................    typedef unsigned int16 uintptr_t;
....................    typedef signed int16 intptr_t;
.................... #endif
.................... 
.................... #define INT8_C(val) ((int8_t)val)
.................... #define UINT8_C(val) ((uint8_t)val)
.................... #define INT16_C(val) ((int16_t)val)
.................... #define UINT16_C(val) ((uint16_t)val)
.................... #define INT32_C(val) ((int32_t)val)
.................... #define UINT32_C(val) ((uint32_t)val)
.................... 
.................... #if defined(__PCD__)
.................... #define INT64_C(val) ((int64_t)val)
.................... #define UINT64_C(val) ((uint64_t)val)
.................... #endif
.................... 
.................... /// TODO:
.................... /// INTPTRN_MIN INTPTRN_MAX UINTPTRN_MAX
.................... 
.................... 
.................... /////////// greatest width (OPTIONAL)
.................... 
.................... #ifdef __PCD__
....................    typedef signed int64 intmax_t;
....................    typedef unsigned int64 uintmax_t;
....................    
....................    #define INTMAXN_MAX  (9223372036854775807)
....................    #define INTMAXN_MIN  (-9223372036854775808)
....................    #define UINTMAXN_MAX (18446744073709551615)
....................    
....................    #define INTMAX_C(value) ((signed int64)val)
....................    #define UINTMAX_C(value) ((unsigned int64)val)
.................... #else
....................    typedef signed int32 intmax_t;
....................    typedef unsigned int32 uintmax_t;
....................    
....................    #define INTMAXN_MAX  (2147483647)
....................    #define INTMAXN_MIN  (-2147483648)
....................    #define UINTMAXN_MAX (4294967295)
....................    
....................    #define INTMAX_C(value) ((signed int32)val)
....................    #define UINTMAX_C(value) ((unsigned int32)val)
.................... #endif
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... 
.................... // Configuration des LEDs
.................... #define WS2812_LED_COUNT 24
.................... 
.................... // À adapter à ta broche (exemple : PIN_C2)
.................... #define WS2812_PIN PIN_C2
.................... 
.................... // Fonctions
.................... void ws2812_init(void);
.................... void ws2812_sendBit(uint8_t bit);
.................... void ws2812_sendByte(uint8_t val);
.................... void ws2812_sendColor(uint8_t r, uint8_t g, uint8_t b);
.................... void ws2812_showAll(uint8_t* r_array, uint8_t* g_array, uint8_t* b_array, uint8_t count);
.................... void ws2812_wheel(uint8_t pos, uint8_t* r, uint8_t* g, uint8_t* b);
.................... 
.................... #endif
.................... 
.................... 
.................... #include <stdint.h>
.................... ///////////////////////////////////////////////////////////////////////////
.................... ////                                                                   ////
.................... ////                           stdint.h                                ////
.................... ////                                                                   ////
.................... //// Standard integer definitions.                                     ////
.................... ////                                                                   ////
.................... ///////////////////////////////////////////////////////////////////////////
.................... ////        (C) Copyright 1996,2008 Custom Computer Services           ////
.................... //// This source code may only be used by licensed users of the CCS C  ////
.................... //// compiler.  This source code may only be distributed to other      ////
.................... //// licensed users of the CCS C compiler.  No other use, reproduction ////
.................... //// or distribution is permitted without written permission.          ////
.................... //// Derivative programs created using this software in object code    ////
.................... //// form are not restricted in any way.                               ////
.................... ///////////////////////////////////////////////////////////////////////////
.................... 
.................... #ifndef _STDINT
.................... 
.................... #define _STDINT
.................... 
.................... //////////// exact width
.................... 
.................... typedef signed int8 int8_t;
.................... typedef unsigned int8 uint8_t;
.................... typedef signed int16 int16_t;
.................... typedef unsigned int16 uint16_t;
.................... typedef signed int32 int32_t;
.................... typedef unsigned int32 uint32_t;
.................... 
.................... #if defined(__PCD__)
.................... //typedef signed int24 int24_t;
.................... //typedef unsigned int24 uint24_t;
.................... typedef signed int64 int64_t;
.................... typedef unsigned int64 uint64_t;
.................... #endif
.................... 
.................... #define INT8_MAX  (127)
.................... #define INT8_MIN  (-128)
.................... #define UINT8_MAX (255)
.................... 
.................... #define INT16_MAX  (32767)
.................... #define INT16_MIN  (-32768)
.................... #define UINT16_MAX (65535)
.................... 
.................... #define INT32_MAX  (2147483647)
.................... #define INT32_MIN  (-2147483648)
.................... #define UINT32_MAX (4294967295)
.................... 
.................... #if defined(__PCD__)
.................... //#define INT24_MAX  (8388607)
.................... //#define INT24_MIN  (-8388608)
.................... //#define UINT24_MAX (16777215)
.................... 
.................... #define INT64_MAX  (9223372036854775807)
.................... #define INT64_MIN  (-9223372036854775808)
.................... #define UINT64_MAX (18446744073709551615)
.................... #endif
.................... 
.................... ///////// minimum width
.................... 
.................... typedef signed int8 int_least8_t;
.................... typedef unsigned int8 uint_least8_t;
.................... typedef signed int16 int_least16_t;
.................... typedef unsigned int16 uint_least16_t;
.................... typedef signed int32 int_least32_t;
.................... typedef unsigned int32 uint_least32_t;
.................... 
.................... #if defined(__PCD__)
.................... //typedef signed int24 int_least24_t;
.................... //typedef unsigned int24 uint_least24_t;
.................... typedef signed int64 int_least64_t;
.................... typedef unsigned int64 uint_least64_t;
.................... #endif
.................... 
.................... #define INT_LEAST8_MAX  (127)
.................... #define INT_LEAST8_MIN  (-128)
.................... #define UINT_LEAST8_MAX (255)
.................... 
.................... #define INT_LEAST16_MAX  (32767)
.................... #define INT_LEAST16_MIN  (-32768)
.................... #define UINT_LEAST16_MAX (65535)
.................... 
.................... #define INT_LEAST32_MAX  (2147483647)
.................... #define INT_LEAST32_MIN  (-2147483648)
.................... #define UINT_LEAST32_MAX (4294967295)
.................... 
.................... #if defined(__PCD__)
.................... //#define INT_LEAST24_MAX  (8388607)
.................... //#define INT_LEAST24_MIN  (-8388608)
.................... //#define UINT_LEAST24_MAX (16777215)
.................... 
.................... #define INT_LEAST64_MAX  (9223372036854775807)
.................... #define INT_LEAST64_MIN  (-9223372036854775808)
.................... #define UINT_LEAST64_MAX (18446744073709551615)
.................... #endif
.................... 
.................... ///////// fastest width
.................... 
.................... #if defined(__PCD__)
.................... typedef signed int16 int_fast8_t;
.................... typedef unsigned int16 uint_fast8_t;
.................... #define INT_FAST8_MAX  (32767)
.................... #define INT_FAST8_MIN  (-32768)
.................... #define UINT_FAST8_MAX (65535)
.................... typedef signed int16 int_fast16_t;
.................... typedef unsigned int16 uint_fast16_t;
.................... //typedef signed int24 int_fast24_t;
.................... //typedef unsigned int24 uint_fast24_t;
.................... typedef signed int64 int_fast64_t;
.................... typedef unsigned int64 uint_fast64_t;
.................... #else
.................... typedef signed int8 int_fast8_t;
.................... typedef unsigned int8 uint_fast8_t;
.................... #define INT_FAST8_MAX  (127)
.................... #define INT_FAST8_MIN  (-128)
.................... #define UINT_FAST8_MAX (255)
.................... typedef signed int16 int_fast16_t;
.................... typedef unsigned int16 uint_fast16_t;
.................... #endif
.................... 
.................... typedef signed int32 int_fast32_t;
.................... typedef unsigned int32 uint_fast32_t;
.................... 
.................... #define INT_FAST16_MAX  (32767)
.................... #define INT_FAST16_MIN  (-32768)
.................... #define UINT_FAST16_MAX (65535)
.................... 
.................... #define INT_FAST32_MAX  (2147483647)
.................... #define INT_FAST32_MIN  (-2147483648)
.................... #define UINT_FAST32_MAX (4294967295)
.................... 
.................... #if defined(__PCD__)
.................... //#define INT_FAST24_MAX  (8388607)
.................... //#define INT_FAST24_MIN  (-8388608)
.................... //#define UINT_FAST24_MAX (16777215)
.................... 
.................... #define INT_FAST64_MAX  (9223372036854775807)
.................... #define INT_FAST64_MIN  (-9223372036854775808)
.................... #define UINT_FAST64_MAX (18446744073709551615)
.................... #endif
.................... 
.................... //////////// big enough to hold pointers (OPTIONAL)
.................... 
.................... #if defined(__PCD__)
....................    typedef unsigned int32 uintptr_t;
....................    typedef signed int32 intptr_t;
.................... #else
....................    typedef unsigned int16 uintptr_t;
....................    typedef signed int16 intptr_t;
.................... #endif
.................... 
.................... #define INT8_C(val) ((int8_t)val)
.................... #define UINT8_C(val) ((uint8_t)val)
.................... #define INT16_C(val) ((int16_t)val)
.................... #define UINT16_C(val) ((uint16_t)val)
.................... #define INT32_C(val) ((int32_t)val)
.................... #define UINT32_C(val) ((uint32_t)val)
.................... 
.................... #if defined(__PCD__)
.................... #define INT64_C(val) ((int64_t)val)
.................... #define UINT64_C(val) ((uint64_t)val)
.................... #endif
.................... 
.................... /// TODO:
.................... /// INTPTRN_MIN INTPTRN_MAX UINTPTRN_MAX
.................... 
.................... 
.................... /////////// greatest width (OPTIONAL)
.................... 
.................... #ifdef __PCD__
....................    typedef signed int64 intmax_t;
....................    typedef unsigned int64 uintmax_t;
....................    
....................    #define INTMAXN_MAX  (9223372036854775807)
....................    #define INTMAXN_MIN  (-9223372036854775808)
....................    #define UINTMAXN_MAX (18446744073709551615)
....................    
....................    #define INTMAX_C(value) ((signed int64)val)
....................    #define UINTMAX_C(value) ((unsigned int64)val)
.................... #else
....................    typedef signed int32 intmax_t;
....................    typedef unsigned int32 uintmax_t;
....................    
....................    #define INTMAXN_MAX  (2147483647)
....................    #define INTMAXN_MIN  (-2147483648)
....................    #define UINTMAXN_MAX (4294967295)
....................    
....................    #define INTMAX_C(value) ((signed int32)val)
....................    #define UINTMAX_C(value) ((unsigned int32)val)
.................... #endif
.................... 
.................... 
.................... #endif
.................... 
.................... 
.................... #use delay(clock=16000000)
*
00214:  CLRF   FEA
00216:  MOVLW  C5
00218:  MOVWF  FE9
0021A:  MOVF   FEF,W
0021C:  BZ    023A
0021E:  MOVLW  05
00220:  MOVWF  01
00222:  CLRF   00
00224:  DECFSZ 00,F
00226:  BRA    0224
00228:  DECFSZ 01,F
0022A:  BRA    0222
0022C:  MOVLW  2E
0022E:  MOVWF  00
00230:  DECFSZ 00,F
00232:  BRA    0230
00234:  BRA    0236
00236:  DECFSZ FEF,F
00238:  BRA    021E
0023A:  RETURN 0
.................... 
.................... void ws2812_init(void) {
....................     output_low(WS2812_PIN);
....................     output_drive(WS2812_PIN);
.................... }
.................... 
.................... void ws2812_sendBit(uint8_t bit) 
.................... {
....................     if (bit) 
*
004CE:  MOVF   xD5,F
004D0:  BZ    04E4
....................     {
....................         output_high(WS2812_PIN);
004D2:  BCF    F89.2
004D4:  BSF    F84.2
....................         delay_us(1);
004D6:  BRA    04D8
004D8:  BRA    04DA
....................         output_low(WS2812_PIN);
004DA:  BCF    F89.2
004DC:  BCF    F84.2
....................         delay_us(1);
004DE:  BRA    04E0
004E0:  BRA    04E2
....................     } 
004E2:  BRA    04F4
....................     else 
....................     {
....................         output_high(WS2812_PIN);
004E4:  BCF    F89.2
004E6:  BSF    F84.2
....................         delay_us(1);
004E8:  BRA    04EA
004EA:  BRA    04EC
....................         output_low(WS2812_PIN);
004EC:  BCF    F89.2
004EE:  BCF    F84.2
....................         delay_us(1);
004F0:  BRA    04F2
004F2:  BRA    04F4
....................     }
004F4:  GOTO   051C (RETURN)
.................... }
.................... 
.................... void ws2812_sendByte(uint8_t val) 
.................... {
....................     for (int8_t i = 7; i >= 0; i--) 
004F8:  MOVLW  07
004FA:  MOVWF  xD3
004FC:  BTFSC  xD3.7
004FE:  BRA    0520
....................     {
....................         ws2812_sendBit((val >> i) & 0x01);
00500:  MOVFF  D2,00
00504:  MOVF   xD3,W
00506:  MOVWF  01
00508:  BZ    0512
0050A:  BCF    FD8.0
0050C:  RRCF   00,F
0050E:  DECFSZ 01,F
00510:  BRA    050A
00512:  MOVF   00,W
00514:  ANDLW  01
00516:  MOVWF  xD4
00518:  MOVWF  xD5
0051A:  BRA    04CE
0051C:  DECF   xD3,F
0051E:  BRA    04FC
....................     }
00520:  RETURN 0
.................... }
.................... 
.................... void ws2812_sendColor(uint8_t r, uint8_t g, uint8_t b) 
.................... {
....................     ws2812_sendByte(g);
00522:  MOVFF  D0,D2
00526:  RCALL  04F8
....................     ws2812_sendByte(r);
00528:  MOVFF  CF,D2
0052C:  RCALL  04F8
....................     ws2812_sendByte(b);
0052E:  MOVFF  D1,D2
00532:  RCALL  04F8
00534:  GOTO   0572 (RETURN)
.................... }
.................... 
.................... void ws2812_showAll(uint8_t* r_array, uint8_t* g_array, uint8_t* b_array, uint8_t count) 
.................... {
....................     for (uint8_t i = 0; i < count; i++) 
00538:  CLRF   xCB
0053A:  MOVF   xCA,W
0053C:  SUBWF  xCB,W
0053E:  BC    0576
....................     {
....................         ws2812_sendColor(r_array[i], g_array[i], b_array[i]);
00540:  MOVF   xCB,W
00542:  ADDWF  xC4,W
00544:  MOVWF  FE9
00546:  MOVLW  00
00548:  ADDWFC xC5,W
0054A:  MOVWF  FEA
0054C:  MOVFF  FEF,CF
00550:  MOVF   xCB,W
00552:  ADDWF  xC6,W
00554:  MOVWF  FE9
00556:  MOVLW  00
00558:  ADDWFC xC7,W
0055A:  MOVWF  FEA
0055C:  MOVFF  FEF,D0
00560:  MOVF   xCB,W
00562:  ADDWF  xC8,W
00564:  MOVWF  FE9
00566:  MOVLW  00
00568:  ADDWFC xC9,W
0056A:  MOVWF  FEA
0056C:  MOVFF  FEF,D1
00570:  BRA    0522
00572:  INCF   xCB,F
00574:  BRA    053A
....................     }
....................     delay_us(60); // Reset time
00576:  MOVLW  4F
00578:  MOVWF  00
0057A:  DECFSZ 00,F
0057C:  BRA    057A
0057E:  BRA    0580
00580:  GOTO   0DBC (RETURN)
.................... }
.................... 
.................... void ws2812_wheel(uint8_t pos, uint8_t* r, uint8_t* g, uint8_t* b) 
.................... {
....................     if (pos < 85) 
....................     {
....................         *r = pos * 3;
....................         *g = 255 - pos * 3;
....................         *b = 0;
....................     } 
....................     else if (pos < 170) 
....................     {
....................         pos -= 85;
....................         *r = 255 - pos * 3;
....................         *g = 0;
....................         *b = pos * 3;
....................     } 
....................     else 
....................     {
....................         pos -= 170;
....................         *r = 0;
....................         *g = pos * 3;
....................         *b = 255 - pos * 3;
....................     }
.................... }
.................... 
.................... 
.................... //==============================================================================
.................... //DÉFINITION DES ENTRÉES ET SORTIES
.................... //==============================================================================
.................... 
.................... #define BUZZER_PIN      PIN_C5                                                  // Buzzer //
.................... #define BUZZER_LED      PIN_C2
.................... 
.................... #define PIN_1_Q         PIN_D1                                                  // Inter 1,2 and final // 
.................... #define PIN_1_QI        PIN_A4 
.................... 
.................... #define PIN_2_Q         PIN_D2
.................... #define PIN_2_QI        PIN_A3
.................... 
.................... #define FINAL_PIN_Q     PIN_D0
.................... #define FINAL_PIN_QI    PIN_A5
.................... 
.................... #define MULTIPLEXER_SELECT_PIN_1  PIN_B0
.................... #define MULTIPLEXER_SELECT_PIN_2  PIN_B1
.................... 
.................... //==============================================================================
.................... //DÉFINITION DES ÉTATS
.................... //==============================================================================
.................... 
.................... #define STARTING    1                                                           // État initial //
.................... #define WAIT        2                                                           // Stand-by //
.................... #define READY       3                                                           // Prêt à lancer // 
.................... #define COUNTDOWN   4                                                           // Compte à rebours //
.................... #define LAUNCHING   5                                                           // Lancement voiture //
.................... #define RACE        6                                                           // Course //
.................... #define TIME        7                                                           // Temps intermédiaire //
.................... #define ENDING      8                                                           // État final //
.................... 
.................... #define DELAY_FALSE_START 200                                                   // Pénalité faux départ //
.................... 
.................... //==============================================================================
.................... //DÉFINITION DES BONUS POUR TESTS
.................... //==============================================================================
.................... 
.................... #define AUTOMATIQUE                                                             // à mettre en commentaire pour mode normal //
.................... 
.................... #define BONUS_LEVER_1       1
.................... #define BONUS_LEVER_2       1
.................... #define BONUS_ELEVATOR_1    1
.................... #define BONUS_ELEVATOR_2    1
.................... #define BONUS_XLR8          1
.................... #define BONUS_BLOWER        1
.................... #define BONUS_7             1
.................... #define BONUS_8             1
.................... 
.................... //==============================================================================
.................... //VARIABLES GLOBALES
.................... //==============================================================================
.................... 
.................... int8 secondaryCounterActivator = 0;                                             // Activateur compteur pour opérations non-liées au chronomètre //
.................... int8 counterActivator = 0;                                                      // Activateur compteur du chronomètre //
.................... int8 toDisplay = 0;                                                             // Sert à afficher le temps sans les centièmes //
.................... 
.................... int16 tertiaryCounter = 0;
.................... int16 secondaryCounter = 0;                                                     // Compteur secondaire //
.................... int16 counter = 0;                                                              // Compteur principal pour le chronomètre //
.................... 
.................... uint8_t red_array[WS2812_LED_COUNT];                                            // pour les différentes couleurs pour le buzzer //
.................... uint8_t green_array[WS2812_LED_COUNT];
.................... uint8_t blue_array[WS2812_LED_COUNT];
.................... //==============================================================================
.................... //INTÉRRUPTION COMPTEURS 
.................... //==============================================================================
.................... 
.................... #INT_TIMER0
.................... void Timer0_ISR()
*
001B0:  MOVLB  0
.................... {
....................     set_timer0(25536);                                                          // 10 millisecondes //
001B2:  BTFSS  FD4.4
001B4:  BRA    01BA
001B6:  MOVLW  63
001B8:  MOVWF  FD3
001BA:  MOVLW  C0
001BC:  MOVWF  FD2
.................... 
....................     if(counterActivator == 1)
001BE:  DECFSZ 57,W
001C0:  BRA    01EC
....................     {
....................         counter++;
001C2:  INCF   5D,F
001C4:  BTFSC  FD8.2
001C6:  INCF   5E,F
.................... 
....................         if(counter % 10 == 0)
001C8:  MOVFF  5E,D7
001CC:  MOVFF  5D,D6
001D0:  CLRF   xD9
001D2:  MOVLW  0A
001D4:  MOVWF  xD8
001D6:  RCALL  016E
001D8:  MOVFF  00,D6
001DC:  MOVFF  03,D7
001E0:  MOVF   xD6,F
001E2:  BNZ   01EC
001E4:  MOVF   xD7,F
001E6:  BNZ   01EC
....................         {
....................             toDisplay = 1;  
001E8:  MOVLW  01
001EA:  MOVWF  58
....................         }
....................     }
....................     
....................     if(secondaryCounterActivator == 1)
001EC:  DECFSZ 56,W
001EE:  BRA    01F6
....................     {
....................         secondaryCounter++;
001F0:  INCF   5B,F
001F2:  BTFSC  FD8.2
001F4:  INCF   5C,F
....................     }
....................     
....................     tertiaryCounter++;
001F6:  INCF   59,F
001F8:  BTFSC  FD8.2
001FA:  INCF   5A,F
....................     if(tertiaryCounter == 100)
001FC:  MOVF   59,W
001FE:  SUBLW  64
00200:  BNZ   020A
00202:  MOVF   5A,F
00204:  BNZ   020A
....................         {
....................              tertiaryCounter = 0;
00206:  CLRF   5A
00208:  CLRF   59
....................         }
0020A:  MOVLB  E
0020C:  BCF    xC5.5
0020E:  MOVLB  0
00210:  GOTO   0076
.................... } 
....................        
.................... //==============================================================================
.................... //PROGRAMME MULTIPLEXEUR 
.................... //==============================================================================
.................... 
.................... void select_multiplexer_channel(int channel) 
.................... {
....................     switch(channel) 
*
0023C:  MOVF   xC4,W
0023E:  ADDLW  FC
00240:  BC    026E
00242:  ADDLW  04
00244:  GOTO   0270
....................     {
....................         case 0:                                                                 // Display // 
....................             output_low(MULTIPLEXER_SELECT_PIN_1);
00248:  BCF    F88.0
0024A:  BCF    F83.0
....................             output_low(MULTIPLEXER_SELECT_PIN_2);
0024C:  BCF    F88.1
0024E:  BCF    F83.1
....................             break;
00250:  BRA    026E
....................             
....................         case 1:                                                                 // Feux //
....................             output_high(MULTIPLEXER_SELECT_PIN_1);
00252:  BCF    F88.0
00254:  BSF    F83.0
....................             output_low(MULTIPLEXER_SELECT_PIN_2);
00256:  BCF    F88.1
00258:  BCF    F83.1
....................             break;
0025A:  BRA    026E
....................             
....................         case 2:                                                                 // Musique //
....................             output_low(MULTIPLEXER_SELECT_PIN_1);
0025C:  BCF    F88.0
0025E:  BCF    F83.0
....................             output_high(MULTIPLEXER_SELECT_PIN_2);
00260:  BCF    F88.1
00262:  BSF    F83.1
....................             break;
00264:  BRA    026E
....................             
....................         case 3:                                                                 // Accélérateur //
....................             output_high(MULTIPLEXER_SELECT_PIN_1);
00266:  BCF    F88.0
00268:  BSF    F83.0
....................             output_high(MULTIPLEXER_SELECT_PIN_2);
0026A:  BCF    F88.1
0026C:  BSF    F83.1
....................             break;
....................     }
0026E:  RETURN 0
.................... }
.................... 
.................... //==============================================================================
.................... //PROGRAMME PRINCIPAL
.................... //==============================================================================
.................... 
.................... void main()
*
00B9E:  CLRF   FF8
00BA0:  BCF    FF2.5
00BA2:  BSF    07.7
00BA4:  MOVLB  E
00BA6:  MOVLW  55
00BA8:  MOVWF  x9B
00BAA:  MOVLW  AA
00BAC:  MOVWF  x9B
00BAE:  BCF    x9B.0
00BB0:  MOVLW  11
00BB2:  MOVWF  xB0
00BB4:  MOVLW  0A
00BB6:  MOVWF  x88
00BB8:  MOVLW  0B
00BBA:  MOVWF  xEE
00BBC:  MOVLW  09
00BBE:  MOVWF  xF2
00BC0:  MOVLW  55
00BC2:  MOVWF  x9B
00BC4:  MOVLW  AA
00BC6:  MOVWF  x9B
00BC8:  BSF    x9B.0
00BCA:  BSF    F9E.3
00BCC:  MOVLW  82
00BCE:  MOVWF  F9A
00BD0:  MOVLW  06
00BD2:  MOVWF  F9B
00BD4:  MOVLW  A6
00BD6:  MOVWF  F9D
00BD8:  MOVLW  90
00BDA:  MOVWF  F9C
00BDC:  CLRF   44
00BDE:  CLRF   45
00BE0:  CLRF   46
00BE2:  CLRF   47
00BE4:  BSF    x9A.3
00BE6:  MOVLW  82
00BE8:  MOVWF  x96
00BEA:  MOVLW  06
00BEC:  MOVWF  x97
00BEE:  MOVLW  A6
00BF0:  MOVWF  x99
00BF2:  MOVLW  90
00BF4:  MOVWF  x98
00BF6:  CLRF   51
00BF8:  CLRF   53
00BFA:  CLRF   52
00BFC:  CLRF   54
00BFE:  CLRF   55
00C00:  CLRF   56
00C02:  CLRF   57
00C04:  CLRF   58
00C06:  CLRF   5A
00C08:  CLRF   59
00C0A:  CLRF   5C
00C0C:  CLRF   5B
00C0E:  CLRF   5E
00C10:  CLRF   5D
00C12:  MOVLB  F
00C14:  CLRF   x0C
00C16:  CLRF   x14
00C18:  CLRF   x1C
00C1A:  CLRF   x21
00C1C:  CLRF   x29
00C1E:  CLRF   x35
00C20:  CLRF   x36
00C22:  CLRF   x37
00C24:  CLRF   x34
00C26:  CLRF   x31
00C28:  CLRF   x32
00C2A:  CLRF   x33
00C2C:  CLRF   x30
.................... {    
....................     delay_ms(2000);
00C2E:  MOVLW  08
00C30:  MOVLB  0
00C32:  MOVWF  xC4
00C34:  MOVLW  FA
00C36:  MOVWF  xC5
00C38:  CALL   0214
00C3C:  DECFSZ xC4,F
00C3E:  BRA    0C34
....................     
....................     //== INITIALISATION BONUS ==//
....................     enable_interrupts(INT_RDA);
00C40:  MOVLB  E
00C42:  BSF    xC0.5
....................     enable_interrupts(GLOBAL);
00C44:  MOVLW  C0
00C46:  IORWF  FF2,F
....................     
....................     //== DÉCLARATION DES VARIABLES ==//                                                 
....................     int16 stopTime = 0;                                                         // Sauvegarde temps tournant //
....................     int16 finalTime = 0;                                                        // Sauvegarde temps final //
....................     int16 reactionTime = 0;                                                     // Sauvegarde temps de réaction //
....................     
....................     int8 state = 0;                                                             // État // 
....................     
....................     int8 zero = 0;                                                              // Reset de l'affichage du chrono //
....................     
....................     char r = 'r';                                                               // Sert à mettre la bonne couleur aux feux //
....................     char g = 'g';
....................     
....................     //== ENTRÉES ==//                            
....................     int8 buzzer = 0;                                                            // Bouton buzzer principal //
.................... 
....................     //== SIGNAUX CELLULES ==//                                                      
....................     int8 inter1Q = 0;                                                           // Premier temps intermédiaire
....................     int8 inter1QI = 0;
....................     
....................     int8 inter2Q = 0;                                                           // Deuxième temps intermédiaire //    
....................     int8 inter2QI = 0; 
....................     
....................     int8 finalSignalQ = 0;                                                      // Cellule finale normale //
....................     int8 finalSignalQI = 0;                                                     
....................     
....................     //== BONUS ==//                                                      
....................     int16 carNumber = 0;
....................     
....................     int8 bonusLever1 = 0;
....................     int8 bonusLever2 = 0;
....................     int8 bonusElevator1 = 0;
....................     int8 bonusElevator2 = 0;
....................     int8 bonusXLR8 = 0;
....................     int8 bonusBlower = 0;
....................     int8 bonus7 = 0;
....................     int8 bonus8 = 0; 
....................     
....................     //== FLANCS DESCENDANTS ==//                         
....................     int8 prevBuzzer = 0;       
00C48:  MOVLB  0
00C4A:  CLRF   xA8
00C4C:  CLRF   xA7
00C4E:  CLRF   xAA
00C50:  CLRF   xA9
00C52:  CLRF   xAC
00C54:  CLRF   xAB
00C56:  CLRF   xAD
00C58:  CLRF   xAE
00C5A:  MOVLW  72
00C5C:  MOVWF  xAF
00C5E:  MOVLW  67
00C60:  MOVWF  xB0
00C62:  CLRF   xB1
00C64:  CLRF   xB2
00C66:  CLRF   xB3
00C68:  CLRF   xB4
00C6A:  CLRF   xB5
00C6C:  CLRF   xB6
00C6E:  CLRF   xB7
00C70:  CLRF   xB9
00C72:  CLRF   xB8
00C74:  CLRF   xBA
00C76:  CLRF   xBB
00C78:  CLRF   xBC
00C7A:  CLRF   xBD
00C7C:  CLRF   xBE
00C7E:  CLRF   xBF
00C80:  CLRF   xC0
00C82:  CLRF   xC1
00C84:  CLRF   xC2
....................     
....................     //== INITIALISATION TIMER ==//      
....................     setup_timer_0(T0_INTERNAL|T0_DIV_4);                                        // Fosc/4, divisé par 4 //
00C86:  MOVLW  90
00C88:  MOVWF  FD4
00C8A:  MOVLW  42
00C8C:  MOVWF  FD5
....................     set_timer0(25536);
00C8E:  BTFSS  FD4.4
00C90:  BRA    0C96
00C92:  MOVLW  63
00C94:  MOVWF  FD3
00C96:  MOVLW  C0
00C98:  MOVWF  FD2
....................     enable_interrupts(INT_TIMER0);
00C9A:  MOVLB  E
00C9C:  BSF    xBD.5
....................     enable_interrupts(GLOBAL);
00C9E:  IORWF  FF2,F
....................     
....................     //== INITIALISATION CHRONOMÈTRE ==//
....................     select_multiplexer_channel(0);
00CA0:  MOVLB  0
00CA2:  CLRF   xC4
00CA4:  CALL   023C
....................     ComDisplay_Color(COLOR_RED);
00CA8:  CLRF   xC4
00CAA:  CALL   02C6
....................     ComDisplay_Mode(MODE_RUNNING_TIME); 
00CAE:  MOVLW  01
00CB0:  MOVWF  xC4
00CB2:  CALL   032A
....................        
....................     //== INITIALISATION FEUX ==//
....................     delay_ms(5);
00CB6:  MOVLW  05
00CB8:  MOVWF  xC5
00CBA:  CALL   0214
....................     select_multiplexer_channel(1);
00CBE:  MOVLW  01
00CC0:  MOVWF  xC4
00CC2:  CALL   023C
....................     delay_ms(5);
00CC6:  MOVLW  05
00CC8:  MOVWF  xC5
00CCA:  CALL   0214
....................     ComFeuAnim(0);
00CCE:  CLRF   xC4
00CD0:  CALL   0352
....................     delay_ms(5);
00CD4:  MOVLW  05
00CD6:  MOVWF  xC5
00CD8:  CALL   0214
....................     
....................     //== INITIALISATION MUSIQUE ==//
....................     select_multiplexer_channel(2);
00CDC:  MOVLW  02
00CDE:  MOVWF  xC4
00CE0:  CALL   023C
....................     DFPlayer_Init();
00CE4:  GOTO   03DE
....................     delay_ms(5);
00CE8:  MOVLW  05
00CEA:  MOVWF  xC5
00CEC:  CALL   0214
....................     DFPlayer_PlaySongNb(1);
00CF0:  MOVLW  01
00CF2:  MOVWF  xC4
00CF4:  CALL   03C0
....................     delay_ms(5);
00CF8:  MOVLW  05
00CFA:  MOVWF  xC5
00CFC:  CALL   0214
....................     
....................     //== MISE HORS TENSION DES CELLULES ==//
....................     setup_mcp23017();
00D00:  CALL   04B2
....................     set_gpb7_low();
00D04:  CALL   04C2
....................     delay_ms(5);
00D08:  MOVLW  05
00D0A:  MOVWF  xC5
00D0C:  CALL   0214
....................     
....................     //== INITIALISATION MULTIPLEXEUR ==//
....................     output_bit(MULTIPLEXER_SELECT_PIN_1 , 0);
00D10:  BCF    F83.0
00D12:  BCF    F88.0
....................     output_bit(MULTIPLEXER_SELECT_PIN_2 , 0);
00D14:  BCF    F83.1
00D16:  BCF    F88.1
....................     
....................     //== INITIALISATION PROGRAMME PRINCIPAL ==//
....................     state = STARTING;
00D18:  MOVLW  01
00D1A:  MOVWF  xAD
....................     
....................     //== DÉBUT BOUCLE INFINIE ==//
....................     while(TRUE)
....................     { 
....................         //== LECTURE DES ENTRÉES ==//        
....................         buzzer = input(BUZZER_PIN);
00D1C:  BSF    F89.5
00D1E:  CLRF   xB1
00D20:  BTFSC  F8E.5
00D22:  INCF   xB1,F
....................         
....................         inter1Q = input(PIN_1_Q);
00D24:  BSF    F8A.1
00D26:  CLRF   xB2
00D28:  BTFSC  F8F.1
00D2A:  INCF   xB2,F
....................         inter1QI = input(PIN_1_QI);
00D2C:  BSF    F87.4
00D2E:  CLRF   xB3
00D30:  BTFSC  F8C.4
00D32:  INCF   xB3,F
....................         
....................         inter2Q = input(PIN_2_Q);
00D34:  BSF    F8A.2
00D36:  CLRF   xB4
00D38:  BTFSC  F8F.2
00D3A:  INCF   xB4,F
....................         inter2QI = input(PIN_2_QI);
00D3C:  BSF    F87.3
00D3E:  CLRF   xB5
00D40:  BTFSC  F8C.3
00D42:  INCF   xB5,F
....................         
....................         finalSignalQ = input(FINAL_PIN_Q);
00D44:  BSF    F8A.0
00D46:  CLRF   xB6
00D48:  BTFSC  F8F.0
00D4A:  INCF   xB6,F
....................         finalSignalQI = input(FINAL_PIN_QI);
00D4C:  BSF    F87.5
00D4E:  CLRF   xB7
00D50:  BTFSC  F8C.5
00D52:  INCF   xB7,F
.................... 
....................         
.................... //==============================================================================        
.................... //LECTURE DES ÉTATS
.................... //==============================================================================
....................         
....................         switch (state)
00D54:  MOVLW  01
00D56:  SUBWF  xAD,W
00D58:  ADDLW  F8
00D5A:  BTFSC  FD8.0
00D5C:  GOTO   180C
00D60:  ADDLW  08
00D62:  GOTO   1826
....................         {         
....................             
....................             
....................             case STARTING:                                                      // Reset de toutes les valeurs //
....................                 
....................                 for (int i = 0; i < WS2812_LED_COUNT; i++) 
00D66:  CLRF   xC3
00D68:  MOVF   xC3,W
00D6A:  SUBLW  17
00D6C:  BNC   0DA2
....................             {
....................                 red_array[i] = 0;
00D6E:  CLRF   03
00D70:  MOVF   xC3,W
00D72:  ADDLW  5F
00D74:  MOVWF  FE9
00D76:  MOVLW  00
00D78:  ADDWFC 03,W
00D7A:  MOVWF  FEA
00D7C:  CLRF   FEF
....................                 green_array[i] = 0;
00D7E:  CLRF   03
00D80:  MOVF   xC3,W
00D82:  ADDLW  77
00D84:  MOVWF  FE9
00D86:  MOVLW  00
00D88:  ADDWFC 03,W
00D8A:  MOVWF  FEA
00D8C:  CLRF   FEF
....................                 blue_array[i] = 255;
00D8E:  CLRF   03
00D90:  MOVF   xC3,W
00D92:  ADDLW  8F
00D94:  MOVWF  FE9
00D96:  MOVLW  00
00D98:  ADDWFC 03,W
00D9A:  MOVWF  FEA
00D9C:  SETF   FEF
00D9E:  INCF   xC3,F
00DA0:  BRA    0D68
....................             }
....................             ws2812_showAll(red_array, green_array, blue_array, WS2812_LED_COUNT);
00DA2:  CLRF   xC5
00DA4:  MOVLW  5F
00DA6:  MOVWF  xC4
00DA8:  CLRF   xC7
00DAA:  MOVLW  77
00DAC:  MOVWF  xC6
00DAE:  CLRF   xC9
00DB0:  MOVLW  8F
00DB2:  MOVWF  xC8
00DB4:  MOVLW  18
00DB6:  MOVWF  xCA
00DB8:  GOTO   0538
....................             
....................                 setup_mcp23017();
00DBC:  CALL   04B2
....................                 set_gpb7_low();
00DC0:  CALL   04C2
....................                 
....................                 bonus_activator();
00DC4:  RCALL  0648
....................                 deactivate_bonus_1_lever();
00DC6:  RCALL  065A
....................                 deactivate_bonus_2_lever();  
00DC8:  RCALL  066A
....................                 deactivate_bonus_3_lever();
00DCA:  RCALL  067A
....................                 deactivate_bonus_4_elevator();
00DCC:  RCALL  068A
....................                 deactivate_bonus_5_elevator();
00DCE:  RCALL  069A
....................                 deactivate_bonus_6_blower();
00DD0:  RCALL  06AA
....................                 deactivate_bonus_7_blower();
00DD2:  RCALL  06BA
....................                 deactivate_bonus_8_startBlower();
00DD4:  RCALL  06CA
.................... 
....................                 select_multiplexer_channel(2);
00DD6:  MOVLW  02
00DD8:  MOVWF  xC4
00DDA:  CALL   023C
....................                 DFPlayer_PlaySongNb(1);
00DDE:  MOVLW  01
00DE0:  MOVWF  xC4
00DE2:  CALL   03C0
....................                 delay_ms(5);
00DE6:  MOVLW  05
00DE8:  MOVWF  xC5
00DEA:  CALL   0214
....................                 
....................                 counterActivator = 0;
00DEE:  CLRF   57
....................                 counter = 0;
00DF0:  CLRF   5E
00DF2:  CLRF   5D
....................                 secondaryCounterActivator = 0;
00DF4:  CLRF   56
....................                 secondaryCounter = 0;
00DF6:  CLRF   5C
00DF8:  CLRF   5B
....................                 
....................                 byteNumber = 0;
00DFA:  CLRF   47
....................                 
....................                 elevatorBonus = 0;
00DFC:  CLRF   45
....................                 bonusFull = 0;
00DFE:  CLRF   44
....................                 bonusBlock = 0;
00E00:  CLRF   46
....................                 
....................                 bonusLever1 = 0;
00E02:  CLRF   xBA
....................                 bonusLever2 = 0;
00E04:  CLRF   xBB
....................                 bonusElevator1 = 0;
00E06:  CLRF   xBC
....................                 bonusElevator2 = 0;
00E08:  CLRF   xBD
....................                 bonusXLR8 = 0;
00E0A:  CLRF   xBE
....................                 bonusBlower = 0;
00E0C:  CLRF   xBF
....................                 bonus7 = 0;
00E0E:  CLRF   xC0
....................                 bonus8 = 0; 
00E10:  CLRF   xC1
....................                 
....................                 carNumber = 0;
00E12:  CLRF   xB9
00E14:  CLRF   xB8
....................                 
....................                 stopTime = 0;
00E16:  CLRF   xA8
00E18:  CLRF   xA7
....................                 finalTime = 0;
00E1A:  CLRF   xAA
00E1C:  CLRF   xA9
....................                 reactionTime = 0;
00E1E:  CLRF   xAC
00E20:  CLRF   xAB
....................                 
....................                 delay_ms(5);
00E22:  MOVLW  05
00E24:  MOVWF  xC5
00E26:  CALL   0214
....................                 select_multiplexer_channel(0);
00E2A:  CLRF   xC4
00E2C:  CALL   023C
....................                 ComDisplay_Time(zero, zero);                                    // Affiche 0:0 sur l'afficheur //
00E30:  MOVFF  AE,C8
00E34:  MOVFF  AE,C9
00E38:  RCALL  07C4
....................                 ComDisplay_Color(COLOR_RED);
00E3A:  CLRF   xC4
00E3C:  CALL   02C6
....................                 ComDisplay_Mode(MODE_RUNNING_TIME);
00E40:  MOVLW  01
00E42:  MOVWF  xC4
00E44:  CALL   032A
....................                
....................                 delay_ms(2000);
00E48:  MOVLW  08
00E4A:  MOVWF  xC4
00E4C:  MOVLW  FA
00E4E:  MOVWF  xC5
00E50:  CALL   0214
00E54:  DECFSZ xC4,F
00E56:  BRA    0E4C
....................                 select_multiplexer_channel(1);
00E58:  MOVLW  01
00E5A:  MOVWF  xC4
00E5C:  CALL   023C
....................                 delay_ms(5);
00E60:  MOVLW  05
00E62:  MOVWF  xC5
00E64:  CALL   0214
....................                 ComFeuAnim(1);                                                  // Active animation Feux //
00E68:  MOVLW  01
00E6A:  MOVWF  xC4
00E6C:  CALL   0352
....................                 
....................                 delay_ms(1000);                                                 // Délai pour éviter perturbations //
00E70:  MOVLW  04
00E72:  MOVWF  xC4
00E74:  MOVLW  FA
00E76:  MOVWF  xC5
00E78:  CALL   0214
00E7C:  DECFSZ xC4,F
00E7E:  BRA    0E74
....................                  
....................                 state = WAIT;
00E80:  MOVLW  02
00E82:  MOVWF  xAD
....................  
....................             break;
00E84:  GOTO   180C
.................... 
.................... //============================================================================//
.................... 
....................             
....................        
.................... //== MANUEL ==//
.................... #ifndef AUTOMATIQUE
....................             
....................             case WAIT:                                                          // État de stand-by //
....................                 
....................                 secondaryCounterActivator = 1;                                  // ??? //
....................                                
....................                 if(buzzer == 0 && prevBuzzer == 1 && bonusFull == 1)
....................                 {      
....................                     carNumber = (rxBuffer[0]-48)*1000 + (rxBuffer[1]-48)*100 + (rxBuffer[2]-48)*10 + rxBuffer[3]-48;                    
....................                     
....................                     bonusLever1     =(rxBuffer[5 ]-48);
....................                     bonusLever2     =(rxBuffer[7 ]-48);
....................                     bonusElevator1  =(rxBuffer[9 ]-48);
....................                     bonusElevator2  =(rxBuffer[11]-48);
....................                     bonusXLR8       =(rxBuffer[13]-48);
....................                     bonusBlower     =(rxBuffer[15]-48);
....................                     bonus7          =(rxBuffer[17]-48);
....................                     bonus8          =(rxBuffer[19]-48);
....................                     
....................                     bonusBlock = 1;                     
....................                     
....................                     select_multiplexer_channel(1);
....................                     ComFeuAnim(0);                                              // Arrête l'animation des feux //
....................                     delay_ms(5);
....................                               
....................                     ComINF_MessageInfo(1111,1,0000);                            // Envoi message prêt //
....................                     
....................                     secondaryCounter = 0;                                       
....................                     secondaryCounterActivator = 0;                              // Reset compteur secondaire pour commencer à 0 //                    
....................                     
....................                     select_multiplexer_channel(2);
....................                     DFPlayer_NextSong(); //2                                    // Change la musique //
....................                     
....................                     delay_ms(1000);                                             // Délai pour éviter perturbations //
....................                     
....................                     state = READY;
....................                 }          
....................                 
....................             break;
....................             
.................... #endif 
....................                   
.................... //== AUTOMATIQUE== //             
.................... #ifdef AUTOMATIQUE                                                                 
....................                     
....................             case WAIT:                                                          // État de stand-by //
....................                     
....................                 secondaryCounterActivator = 1;
00E88:  MOVLW  01
00E8A:  MOVWF  56
....................                                
....................                 if(buzzer == 0 && prevBuzzer == 1)
00E8C:  MOVF   xB1,F
00E8E:  BNZ   0F4C
00E90:  DECFSZ xC2,W
00E92:  BRA    0F4C
....................                 {      
....................                     
....................                     carNumber = (rxBuffer[0]-48)*1000 + (rxBuffer[1]-48)*100 + (rxBuffer[2]-48)*10 + rxBuffer[3]-48;                    
00E94:  MOVLW  30
00E96:  SUBWF  30,W
00E98:  MOVWF  xC5
00E9A:  CLRF   xC7
00E9C:  MOVWF  xC6
00E9E:  MOVLW  03
00EA0:  MOVWF  xC9
00EA2:  MOVLW  E8
00EA4:  MOVWF  xC8
00EA6:  BRA    07EE
00EA8:  MOVFF  02,C5
00EAC:  MOVFF  01,C4
00EB0:  MOVLW  30
00EB2:  SUBWF  31,W
00EB4:  MULLW  64
00EB6:  MOVF   FF3,W
00EB8:  ADDWF  xC4,F
00EBA:  MOVLW  00
00EBC:  ADDWFC xC5,F
00EBE:  MOVLW  30
00EC0:  SUBWF  32,W
00EC2:  MULLW  0A
00EC4:  MOVF   FF3,W
00EC6:  ADDWF  xC4,F
00EC8:  MOVLW  00
00ECA:  ADDWFC xC5,F
00ECC:  MOVF   33,W
00ECE:  ADDWF  xC4,F
00ED0:  MOVLW  00
00ED2:  ADDWFC xC5,F
00ED4:  MOVLW  30
00ED6:  SUBWF  xC4,W
00ED8:  MOVWF  xB8
00EDA:  MOVLW  00
00EDC:  SUBWFB xC5,W
00EDE:  MOVWF  xB9
....................                     
....................                     bonusLever1     = BONUS_LEVER_1;
00EE0:  MOVLW  01
00EE2:  MOVWF  xBA
....................                     bonusLever2     = BONUS_LEVER_2;
00EE4:  MOVWF  xBB
....................                     bonusElevator1  = BONUS_ELEVATOR_1;
00EE6:  MOVWF  xBC
....................                     bonusElevator2  = BONUS_ELEVATOR_2;
00EE8:  MOVWF  xBD
....................                     bonusXLR8       = BONUS_XLR8;
00EEA:  MOVWF  xBE
....................                     bonusBlower     = BONUS_BLOWER;
00EEC:  MOVWF  xBF
....................                     bonus7          = BONUS_7;
00EEE:  MOVWF  xC0
....................                     bonus8          = BONUS_8;
00EF0:  MOVWF  xC1
....................                     
....................                     bonusBlock = 1;                     
00EF2:  MOVWF  46
....................                     
....................                     select_multiplexer_channel(1);
00EF4:  MOVWF  xC4
00EF6:  CALL   023C
....................                     ComFeuAnim(0);                                              // Arrête l'animation des feux //
00EFA:  CLRF   xC4
00EFC:  CALL   0352
....................                     delay_ms(5);
00F00:  MOVLW  05
00F02:  MOVWF  xC5
00F04:  CALL   0214
....................                               
....................                     ComINF_MessageInfo(1111,1,0000);                            // Envoi message prêt //
00F08:  MOVLW  04
00F0A:  MOVWF  xC5
00F0C:  MOVLW  57
00F0E:  MOVWF  xC4
00F10:  MOVLW  01
00F12:  MOVWF  xC6
00F14:  CLRF   xC8
00F16:  CLRF   xC7
00F18:  RCALL  0982
....................                     
....................                     secondaryCounter = 0;                                       
00F1A:  CLRF   5C
00F1C:  CLRF   5B
....................                     secondaryCounterActivator = 0;                              // Reset compteur secondaire pour commencer à 0 //                    
00F1E:  CLRF   56
....................                     
....................                     delay_ms(1000);
00F20:  MOVLW  04
00F22:  MOVWF  xC4
00F24:  MOVLW  FA
00F26:  MOVWF  xC5
00F28:  CALL   0214
00F2C:  DECFSZ xC4,F
00F2E:  BRA    0F24
....................                     
....................                     select_multiplexer_channel(2);
00F30:  MOVLW  02
00F32:  MOVWF  xC4
00F34:  CALL   023C
....................                     //DFPlayer_NextSong(); //2                                    // Change la musique //
....................                     
....................                     delay_ms(1000);                                             // Délai pour éviter perturbations //
00F38:  MOVLW  04
00F3A:  MOVWF  xC4
00F3C:  MOVLW  FA
00F3E:  MOVWF  xC5
00F40:  CALL   0214
00F44:  DECFSZ xC4,F
00F46:  BRA    0F3C
....................                     
....................                     
....................                     state = READY;
00F48:  MOVLW  03
00F4A:  MOVWF  xAD
....................                 }          
....................                 
....................             break;
00F4C:  GOTO   180C
.................... #endif
....................             
.................... //============================================================================//                
....................           
....................             case READY:                                                         // Prêt à démarrer la séquence de compte à  rebours //
....................                 
.................... //                if(buzzer == 0 && prevBuzzer == 1)
.................... //                {
....................                     select_multiplexer_channel(2);
00F50:  MOVLW  02
00F52:  MOVWF  xC4
00F54:  CALL   023C
....................                     DFPlayer_NextSong(); //2
00F58:  BRA    09C2
....................                     delay_ms(5);
00F5A:  MOVLW  05
00F5C:  MOVWF  xC5
00F5E:  CALL   0214
....................                     
....................                     select_multiplexer_channel(1);
00F62:  MOVLW  01
00F64:  MOVWF  xC4
00F66:  CALL   023C
....................                     ComFeuAllume(1,0,0,0,r,3);                                  // Feu 1 à 1 - Feu 2 à 0 - Feu 3 à 0 - Feu 4 à 0 - Rouge - luminosité max //
00F6A:  MOVLW  01
00F6C:  MOVWF  xC4
00F6E:  CLRF   xC5
00F70:  CLRF   xC6
00F72:  CLRF   xC7
00F74:  MOVFF  AF,C8
00F78:  MOVLW  03
00F7A:  MOVWF  xC9
00F7C:  RCALL  0AA2
....................                     
....................                     secondaryCounter = 0;
00F7E:  CLRF   5C
00F80:  CLRF   5B
....................                                         
....................                     state = COUNTDOWN;                    
00F82:  MOVLW  04
00F84:  MOVWF  xAD
.................... //                }
....................                 
....................             break;
00F86:  GOTO   180C
....................             
.................... //============================================================================//                
....................             
....................             case COUNTDOWN:                                                     // Séquence compte à rebours // 
....................             
....................                 secondaryCounterActivator = 1;
00F8A:  MOVLW  01
00F8C:  MOVWF  56
.................... 
....................                 if(secondaryCounter == 100)
00F8E:  MOVF   5B,W
00F90:  SUBLW  64
00F92:  BNZ   0FAC
00F94:  MOVF   5C,F
00F96:  BNZ   0FAC
....................                 { 
....................                     ComFeuAllume(1,1,0,0,r,3);
00F98:  MOVLW  01
00F9A:  MOVWF  xC4
00F9C:  MOVWF  xC5
00F9E:  CLRF   xC6
00FA0:  CLRF   xC7
00FA2:  MOVFF  AF,C8
00FA6:  MOVLW  03
00FA8:  MOVWF  xC9
00FAA:  RCALL  0AA2
....................                 }
.................... 
....................                 if(secondaryCounter == 200)
00FAC:  MOVF   5B,W
00FAE:  SUBLW  C8
00FB0:  BNZ   0FCA
00FB2:  MOVF   5C,F
00FB4:  BNZ   0FCA
....................                 {
....................                     ComFeuAllume(1,1,1,0,r,3);
00FB6:  MOVLW  01
00FB8:  MOVWF  xC4
00FBA:  MOVWF  xC5
00FBC:  MOVWF  xC6
00FBE:  CLRF   xC7
00FC0:  MOVFF  AF,C8
00FC4:  MOVLW  03
00FC6:  MOVWF  xC9
00FC8:  RCALL  0AA2
....................                 }
.................... 
....................                 if(secondaryCounter == 300)    
00FCA:  MOVF   5B,W
00FCC:  SUBLW  2C
00FCE:  BNZ   0FE8
00FD0:  DECFSZ 5C,W
00FD2:  BRA    0FE8
....................                 {   
....................                     ComFeuAllume(1,1,1,1,r,3);
00FD4:  MOVLW  01
00FD6:  MOVWF  xC4
00FD8:  MOVWF  xC5
00FDA:  MOVWF  xC6
00FDC:  MOVWF  xC7
00FDE:  MOVFF  AF,C8
00FE2:  MOVLW  03
00FE4:  MOVWF  xC9
00FE6:  RCALL  0AA2
....................                 }
.................... 
....................                 //== BON DÉPART ==//
....................                 if(secondaryCounter == 400)
00FE8:  MOVF   5B,W
00FEA:  SUBLW  90
00FEC:  BNZ   1020
00FEE:  DECFSZ 5C,W
00FF0:  BRA    1020
....................                 { 
....................                     ComFeuAllume(1,1,1,1,g,3);
00FF2:  MOVLW  01
00FF4:  MOVWF  xC4
00FF6:  MOVWF  xC5
00FF8:  MOVWF  xC6
00FFA:  MOVWF  xC7
00FFC:  MOVFF  B0,C8
01000:  MOVLW  03
01002:  MOVWF  xC9
01004:  RCALL  0AA2
....................                     delay_ms(5);
01006:  MOVLW  05
01008:  MOVWF  xC5
0100A:  CALL   0214
....................                     
....................                     counter = 0;
0100E:  CLRF   5E
01010:  CLRF   5D
....................                     counterActivator = 1;                                       // Démarre le chronomètre //   
01012:  MOVLW  01
01014:  MOVWF  57
....................                 
....................                     secondaryCounter = 0;
01016:  CLRF   5C
01018:  CLRF   5B
....................                     secondaryCounterActivator = 0;                              // Reset le timer secondaire //
0101A:  CLRF   56
.................... 
....................                     state = LAUNCHING;                       
0101C:  MOVLW  05
0101E:  MOVWF  xAD
....................                 } 
....................                 
....................                 //== FAUX DÉPART ==//
....................                 if(buzzer == 0 && prevBuzzer == 1)
01020:  MOVF   xB1,F
01022:  BNZ   10C8
01024:  DECFSZ xC2,W
01026:  BRA    10C8
....................                 {
....................                     bonus_activator();
01028:  CALL   0648
....................                     
....................                     delay_ms(5);                    
0102C:  MOVLW  05
0102E:  MOVWF  xC5
01030:  CALL   0214
....................                     select_multiplexer_channel(3);
01034:  MOVLW  03
01036:  MOVWF  xC4
01038:  CALL   023C
....................                     startXLR8(bonusXLR8);
0103C:  MOVFF  BE,C4
01040:  RCALL  0AE2
....................                     delay_ms(5);
01042:  MOVLW  05
01044:  MOVWF  xC5
01046:  CALL   0214
....................                     
....................                     if(bonusBlower == 1)
0104A:  DECFSZ xBF,W
0104C:  BRA    1054
....................                     {
....................                         bonus_activator();
0104E:  CALL   0648
....................                         activate_bonus_8_startBlower();
01052:  RCALL  0B04
....................                     }
....................                     
....................                     setup_mcp23017();
01054:  CALL   04B2
....................                     set_gpb7_high();
01058:  RCALL  0B14
....................                     
....................                     
....................                     ComINF_MessageInfo(carNumber,2,0000);                       // Envoie message faux départ //
0105A:  MOVFF  B9,C5
0105E:  MOVFF  B8,C4
01062:  MOVLW  02
01064:  MOVWF  xC6
01066:  CLRF   xC8
01068:  CLRF   xC7
0106A:  RCALL  0982
....................                     delay_ms(5);
0106C:  MOVLW  05
0106E:  MOVWF  xC5
01070:  CALL   0214
....................                     
....................                     select_multiplexer_channel(2);
01074:  MOVLW  02
01076:  MOVWF  xC4
01078:  CALL   023C
....................                     DFPlayer_PlaySongNb(4); //CHANGE (5)
0107C:  MOVLW  04
0107E:  MOVWF  xC4
01080:  CALL   03C0
....................                     delay_ms(5);
01084:  MOVLW  05
01086:  MOVWF  xC5
01088:  CALL   0214
....................                     
....................                     secondaryCounterActivator = 0;                              // Stop séquence compte à rebours //
0108C:  CLRF   56
....................                     secondaryCounter = 0;
0108E:  CLRF   5C
01090:  CLRF   5B
....................                     
....................                     counterActivator = 1;                                       // Démarre le chronomètre //     
01092:  MOVLW  01
01094:  MOVWF  57
....................                     
....................                     counter = DELAY_FALSE_START;                                // Pénalité de 2s //
01096:  CLRF   5E
01098:  MOVLW  C8
0109A:  MOVWF  5D
.................... 
....................                     select_multiplexer_channel(1);
0109C:  MOVLW  01
0109E:  MOVWF  xC4
010A0:  CALL   023C
....................                     ComFeuAllume(1,1,1,1,g,3);                      
010A4:  MOVLW  01
010A6:  MOVWF  xC4
010A8:  MOVWF  xC5
010AA:  MOVWF  xC6
010AC:  MOVWF  xC7
010AE:  MOVFF  B0,C8
010B2:  MOVLW  03
010B4:  MOVWF  xC9
010B6:  RCALL  0AA2
....................                     delay_ms(5);
010B8:  MOVLW  05
010BA:  MOVWF  xC5
010BC:  CALL   0214
....................                     
....................                     secondaryCounter = 0;
010C0:  CLRF   5C
010C2:  CLRF   5B
....................                     
....................                     state = RACE;
010C4:  MOVLW  06
010C6:  MOVWF  xAD
....................                 }
....................                                 
....................             break;
010C8:  BRA    180C
....................             
.................... //============================================================================//                  
....................             
....................             case LAUNCHING:                                                     // Lancement de la voiture //
....................                 
....................                 if(buzzer == 0 && prevBuzzer == 1)
010CA:  MOVF   xB1,F
010CC:  BNZ   1126
010CE:  DECFSZ xC2,W
010D0:  BRA    1126
....................                 {
....................                     delay_ms(5);                    
010D2:  MOVLW  05
010D4:  MOVWF  xC5
010D6:  CALL   0214
....................                     select_multiplexer_channel(3);
010DA:  MOVLW  03
010DC:  MOVWF  xC4
010DE:  CALL   023C
....................                     startXLR8(bonusXLR8);
010E2:  MOVFF  BE,C4
010E6:  RCALL  0AE2
....................                     delay_ms(5);
010E8:  MOVLW  05
010EA:  MOVWF  xC5
010EC:  CALL   0214
....................                     
....................                     reactionTime = counter;                                     // Enregistre temps de réaction //               
010F0:  MOVFF  5E,AC
010F4:  MOVFF  5D,AB
....................                     
....................                     ComINF_MessageInfo(carNumber,2,reactionTime);               // Envoie temps de réaction //
010F8:  MOVFF  B9,C5
010FC:  MOVFF  B8,C4
01100:  MOVLW  02
01102:  MOVWF  xC6
01104:  MOVFF  AC,C8
01108:  MOVFF  AB,C7
0110C:  RCALL  0982
....................                     
....................                     setup_mcp23017();
0110E:  CALL   04B2
....................                     set_gpb7_high();
01112:  RCALL  0B14
....................                     
....................                     bonus_activator();
01114:  CALL   0648
....................                     
....................                     if(bonusBlower == 1)
01118:  DECFSZ xBF,W
0111A:  BRA    1122
....................                     {
....................                         bonus_activator();
0111C:  CALL   0648
....................                         activate_bonus_8_startBlower();
01120:  RCALL  0B04
....................                     }
....................                     
....................                     state = RACE;
01122:  MOVLW  06
01124:  MOVWF  xAD
....................                 }
....................                 
....................                 //== MISE À JOUR CHRONOMÈTRE ==//
....................                 if(toDisplay == 1)                                              // Démarre chronomètre en rouge //
01126:  DECFSZ 58,W
01128:  BRA    1198
....................                 {
....................                     select_multiplexer_channel(0);
0112A:  CLRF   xC4
0112C:  CALL   023C
....................                     toDisplay = 0;  
01130:  CLRF   58
....................                     ComDisplay_Color(COLOR_RED);
01132:  CLRF   xC4
01134:  CALL   02C6
....................                     ComDisplay_Mode(MODE_RUNNING_TIME);
01138:  MOVLW  01
0113A:  MOVWF  xC4
0113C:  CALL   032A
01140:  CLRF   1B
01142:  BTFSC  FF2.7
01144:  BSF    1B.7
01146:  BCF    FF2.7
....................                     ComDisplay_Time(counter/100,counter%100);                    
01148:  MOVFF  5E,D7
0114C:  MOVFF  5D,D6
01150:  CLRF   xD9
01152:  MOVLW  64
01154:  MOVWF  xD8
01156:  CALL   016E
0115A:  BTFSC  1B.7
0115C:  BSF    FF2.7
0115E:  MOVFF  02,C5
01162:  MOVFF  01,C4
01166:  CLRF   1B
01168:  BTFSC  FF2.7
0116A:  BSF    1B.7
0116C:  BCF    FF2.7
0116E:  MOVFF  5E,D7
01172:  MOVFF  5D,D6
01176:  CLRF   xD9
01178:  MOVLW  64
0117A:  MOVWF  xD8
0117C:  CALL   016E
01180:  BTFSC  1B.7
01182:  BSF    FF2.7
01184:  MOVFF  00,C6
01188:  MOVFF  03,C7
0118C:  MOVFF  C4,C8
01190:  MOVFF  00,C9
01194:  CALL   07C4
....................                 }
....................                 
....................             break;
01198:  BRA    180C
....................             
.................... //============================================================================//    
....................          
....................             case RACE:                                                          // Course //
....................                 
....................                 bonus_activator();
0119A:  CALL   0648
....................                 
....................                 //== TEMPS INTERMÉDIAIRE 1 ==//
....................                 if(inter1Q == 1 && inter1QI == 0)
0119E:  DECFSZ xB2,W
011A0:  BRA    1292
011A2:  MOVF   xB3,F
011A4:  BTFSS  FD8.2
011A6:  BRA    1292
....................                 {        
....................                     bonus_activator();
011A8:  CALL   0648
....................                     deactivate_bonus_8_startBlower();
011AC:  CALL   06CA
....................                     
....................                     if(bonusElevator1 == 1)
011B0:  DECFSZ xBC,W
011B2:  BRA    11B6
....................                     {
....................                         activate_bonus_4_elevator();
011B4:  BRA    0B22
....................                     }
....................                     
....................                     if(bonusLever1 == 1 && bonusLever2 == 1)
011B6:  DECFSZ xBA,W
011B8:  BRA    11C8
011BA:  DECFSZ xBB,W
011BC:  BRA    11C8
....................                     {
....................                         activate_bonus_1_lever();
011BE:  RCALL  0B34
....................                         deactivate_bonus_2_lever();
011C0:  CALL   066A
....................                         deactivate_bonus_3_lever();
011C4:  CALL   067A
....................                     }
....................                     
....................                     if(bonusLever1 == 0 && bonusLever2 == 0)
011C8:  MOVF   xBA,F
011CA:  BNZ   11D6
011CC:  MOVF   xBB,F
011CE:  BNZ   11D6
....................                     {
....................                         activate_bonus_1_lever();
011D0:  RCALL  0B34
....................                         activate_bonus_2_lever();
011D2:  BRA    0B44
....................                         activate_bonus_3_lever();
011D4:  BRA    0B56
....................                     }
....................                     
....................                     if((bonusLever1 == 0 && bonusLever2 == 1)||(bonusLever1 == 1 && bonusLever2 == 0))
011D6:  MOVF   xBA,F
011D8:  BNZ   11E0
011DA:  DECFSZ xBB,W
011DC:  BRA    11E0
011DE:  BRA    11E8
011E0:  DECFSZ xBA,W
011E2:  BRA    11F4
011E4:  MOVF   xBB,F
011E6:  BNZ   11F4
....................                     {
....................                         deactivate_bonus_1_lever();
011E8:  CALL   065A
....................                         deactivate_bonus_2_lever();
011EC:  CALL   066A
....................                         deactivate_bonus_3_lever();
011F0:  CALL   067A
....................                     }    
....................                     activate_bonus_6_blower();
011F4:  BRA    0B68
....................                     
....................                     stopTime = counter;                                         // Enregistre temps intermédiaire //
011F6:  MOVFF  5E,A8
011FA:  MOVFF  5D,A7
....................                     
....................                     select_multiplexer_channel(0);
011FE:  CLRF   xC4
01200:  CALL   023C
....................                     ComDisplay_Color(COLOR_GREEN);
01204:  MOVLW  02
01206:  MOVWF  xC4
01208:  CALL   02C6
....................                     ComDisplay_Mode(MODE_NET_TIME);                             
0120C:  CLRF   xC4
0120E:  CALL   032A
01212:  CLRF   1B
01214:  BTFSC  FF2.7
01216:  BSF    1B.7
01218:  BCF    FF2.7
....................                     ComDisplay_Time(stopTime/100,stopTime%100);                 // Montre temps intermédiaire au centième de seconde //
0121A:  MOVFF  A8,D7
0121E:  MOVFF  A7,D6
01222:  CLRF   xD9
01224:  MOVLW  64
01226:  MOVWF  xD8
01228:  CALL   016E
0122C:  BTFSC  1B.7
0122E:  BSF    FF2.7
01230:  MOVFF  02,C5
01234:  MOVFF  01,C4
01238:  CLRF   1B
0123A:  BTFSC  FF2.7
0123C:  BSF    1B.7
0123E:  BCF    FF2.7
01240:  MOVFF  A8,D7
01244:  MOVFF  A7,D6
01248:  CLRF   xD9
0124A:  MOVLW  64
0124C:  MOVWF  xD8
0124E:  CALL   016E
01252:  BTFSC  1B.7
01254:  BSF    FF2.7
01256:  MOVFF  00,C6
0125A:  MOVFF  03,C7
0125E:  MOVFF  C4,C8
01262:  MOVFF  00,C9
01266:  CALL   07C4
....................                     delay_ms(5);                    
0126A:  MOVLW  05
0126C:  MOVWF  xC5
0126E:  CALL   0214
....................                     
....................                     ComINF_MessageInfo(carNumber, 4, stopTime);                 // Envoi temps intermédiaire //
01272:  MOVFF  B9,C5
01276:  MOVFF  B8,C4
0127A:  MOVLW  04
0127C:  MOVWF  xC6
0127E:  MOVFF  A8,C8
01282:  MOVFF  A7,C7
01286:  CALL   0982
....................                     
....................                     secondaryCounter = 0;
0128A:  CLRF   5C
0128C:  CLRF   5B
....................                     
....................                     state = TIME;
0128E:  MOVLW  07
01290:  MOVWF  xAD
....................                 }
....................                 
....................                 //== TEMPS INTERMÉDIAIRE 2 ==//
....................                 if(inter2Q == 1 && inter2QI == 0)
01292:  DECFSZ xB4,W
01294:  BRA    1358
01296:  MOVF   xB5,F
01298:  BNZ   1358
....................                 {      
....................                     deactivate_bonus_4_elevator();
0129A:  CALL   068A
....................                     
....................                     if(bonusElevator2 == 1)
0129E:  DECFSZ xBD,W
012A0:  BRA    12A4
....................                     {
....................                         activate_bonus_5_elevator();
012A2:  BRA    0B7A
....................                     }
....................                     
....................                     bonus_activator();
012A4:  CALL   0648
....................                     deactivate_bonus_1_lever();
012A8:  CALL   065A
....................                     deactivate_bonus_2_lever();
012AC:  CALL   066A
....................                     deactivate_bonus_3_lever();  
012B0:  CALL   067A
....................                     
....................                     deactivate_bonus_6_blower();
012B4:  CALL   06AA
....................                     
....................                     activate_bonus_7_blower();
012B8:  BRA    0B8C
....................                     
....................                     stopTime = counter;                                         // Enregistre temps de réaction //
012BA:  MOVFF  5E,A8
012BE:  MOVFF  5D,A7
....................                     
....................                     select_multiplexer_channel(0);
012C2:  CLRF   xC4
012C4:  CALL   023C
....................                     ComDisplay_Color(COLOR_GREEN);
012C8:  MOVLW  02
012CA:  MOVWF  xC4
012CC:  CALL   02C6
....................                     ComDisplay_Mode(MODE_NET_TIME);                             
012D0:  CLRF   xC4
012D2:  CALL   032A
012D6:  CLRF   1B
012D8:  BTFSC  FF2.7
012DA:  BSF    1B.7
012DC:  BCF    FF2.7
....................                     ComDisplay_Time(stopTime/100,stopTime%100);                 // Montre temps intermédiaire au centième de seconde //
012DE:  MOVFF  A8,D7
012E2:  MOVFF  A7,D6
012E6:  CLRF   xD9
012E8:  MOVLW  64
012EA:  MOVWF  xD8
012EC:  CALL   016E
012F0:  BTFSC  1B.7
012F2:  BSF    FF2.7
012F4:  MOVFF  02,C5
012F8:  MOVFF  01,C4
012FC:  CLRF   1B
012FE:  BTFSC  FF2.7
01300:  BSF    1B.7
01302:  BCF    FF2.7
01304:  MOVFF  A8,D7
01308:  MOVFF  A7,D6
0130C:  CLRF   xD9
0130E:  MOVLW  64
01310:  MOVWF  xD8
01312:  CALL   016E
01316:  BTFSC  1B.7
01318:  BSF    FF2.7
0131A:  MOVFF  00,C6
0131E:  MOVFF  03,C7
01322:  MOVFF  C4,C8
01326:  MOVFF  00,C9
0132A:  CALL   07C4
....................                     delay_ms(5);                    
0132E:  MOVLW  05
01330:  MOVWF  xC5
01332:  CALL   0214
....................                     
....................                     ComINF_MessageInfo(carNumber,5,stopTime);                   // Envoi temps intermédiaire //
01336:  MOVFF  B9,C5
0133A:  MOVFF  B8,C4
0133E:  MOVLW  05
01340:  MOVWF  xC6
01342:  MOVFF  A8,C8
01346:  MOVFF  A7,C7
0134A:  CALL   0982
....................                     
....................                     secondaryCounter = 0;
0134E:  CLRF   5C
01350:  CLRF   5B
....................                     
....................                     state = TIME;
01352:  MOVLW  07
01354:  MOVWF  xAD
....................                 } 
01356:  BRA    1512
....................                
....................                 //== FIN COURSE ==//
....................                 else if(finalSignalQ == 1  && finalSignalQI == 0)
01358:  DECFSZ xB6,W
0135A:  BRA    141A
0135C:  MOVF   xB7,F
0135E:  BNZ   141A
....................                 {
....................                     deactivate_bonus_5_elevator();
01360:  CALL   069A
....................                     
....................                     finalTime = counter;                                        // Enregistre temps final //
01364:  MOVFF  5E,AA
01368:  MOVFF  5D,A9
....................                    
....................                     bonus_activator();
0136C:  CALL   0648
....................                     
....................                     deactivate_bonus_7_blower();
01370:  CALL   06BA
....................                     
....................                     
....................                     select_multiplexer_channel(2);
01374:  MOVLW  02
01376:  MOVWF  xC4
01378:  CALL   023C
....................                     DFPlayer_PlaySongNb(3);
0137C:  MOVLW  03
0137E:  MOVWF  xC4
01380:  CALL   03C0
....................                     delay_ms(5);
01384:  MOVLW  05
01386:  MOVWF  xC5
01388:  CALL   0214
....................                     
....................                     select_multiplexer_channel(0);
0138C:  CLRF   xC4
0138E:  CALL   023C
....................                     ComDisplay_Mode(MODE_NET_TIME);                             // Montre temps final avec centièmes //
01392:  CLRF   xC4
01394:  CALL   032A
01398:  CLRF   1B
0139A:  BTFSC  FF2.7
0139C:  BSF    1B.7
0139E:  BCF    FF2.7
....................                     ComDisplay_Time(finalTime/100,finalTime%100);  
013A0:  MOVFF  AA,D7
013A4:  MOVFF  A9,D6
013A8:  CLRF   xD9
013AA:  MOVLW  64
013AC:  MOVWF  xD8
013AE:  CALL   016E
013B2:  BTFSC  1B.7
013B4:  BSF    FF2.7
013B6:  MOVFF  02,C5
013BA:  MOVFF  01,C4
013BE:  CLRF   1B
013C0:  BTFSC  FF2.7
013C2:  BSF    1B.7
013C4:  BCF    FF2.7
013C6:  MOVFF  AA,D7
013CA:  MOVFF  A9,D6
013CE:  CLRF   xD9
013D0:  MOVLW  64
013D2:  MOVWF  xD8
013D4:  CALL   016E
013D8:  BTFSC  1B.7
013DA:  BSF    FF2.7
013DC:  MOVFF  00,C6
013E0:  MOVFF  03,C7
013E4:  MOVFF  C4,C8
013E8:  MOVFF  00,C9
013EC:  CALL   07C4
....................                     delay_ms(5);
013F0:  MOVLW  05
013F2:  MOVWF  xC5
013F4:  CALL   0214
....................                     
....................                     secondaryCounter = 0;
013F8:  CLRF   5C
013FA:  CLRF   5B
....................                     
....................                     ComINF_MessageInfo(carNumber,6,finalTime);                  // Envoie message temps final //
013FC:  MOVFF  B9,C5
01400:  MOVFF  B8,C4
01404:  MOVLW  06
01406:  MOVWF  xC6
01408:  MOVFF  AA,C8
0140C:  MOVFF  A9,C7
01410:  CALL   0982
.................... 
....................                     state = ENDING;
01414:  MOVLW  08
01416:  MOVWF  xAD
....................                 }                    
01418:  BRA    1512
....................                 
....................                 //== MISE À JOUR CHRONOMÈTRE ==//
....................                 else if(toDisplay == 1)
0141A:  DECFSZ 58,W
0141C:  BRA    1490
....................                 {
....................                     select_multiplexer_channel(0);
0141E:  CLRF   xC4
01420:  CALL   023C
....................                     toDisplay = 0;  
01424:  CLRF   58
....................                     ComDisplay_Color(COLOR_BLUE);                               // Montre chronomètre en bleu dès qu'on lance la voiture //
01426:  MOVLW  03
01428:  MOVWF  xC4
0142A:  CALL   02C6
....................                     ComDisplay_Mode(MODE_RUNNING_TIME);
0142E:  MOVLW  01
01430:  MOVWF  xC4
01432:  CALL   032A
01436:  CLRF   1B
01438:  BTFSC  FF2.7
0143A:  BSF    1B.7
0143C:  BCF    FF2.7
....................                     ComDisplay_Time(counter/100,counter%100);  
0143E:  MOVFF  5E,D7
01442:  MOVFF  5D,D6
01446:  CLRF   xD9
01448:  MOVLW  64
0144A:  MOVWF  xD8
0144C:  CALL   016E
01450:  BTFSC  1B.7
01452:  BSF    FF2.7
01454:  MOVFF  02,C5
01458:  MOVFF  01,C4
0145C:  CLRF   1B
0145E:  BTFSC  FF2.7
01460:  BSF    1B.7
01462:  BCF    FF2.7
01464:  MOVFF  5E,D7
01468:  MOVFF  5D,D6
0146C:  CLRF   xD9
0146E:  MOVLW  64
01470:  MOVWF  xD8
01472:  CALL   016E
01476:  BTFSC  1B.7
01478:  BSF    FF2.7
0147A:  MOVFF  00,C6
0147E:  MOVFF  03,C7
01482:  MOVFF  C4,C8
01486:  MOVFF  00,C9
0148A:  CALL   07C4
....................                 }
0148E:  BRA    1512
....................                 
....................                 //== COURSE TROP LONGUE ==//
....................                 else if(counter >= 9998)
01490:  MOVF   5E,W
01492:  SUBLW  26
01494:  BC    1512
01496:  XORLW  FF
01498:  BNZ   14A0
0149A:  MOVF   5D,W
0149C:  SUBLW  0D
0149E:  BC    1512
....................                 {
....................                     deactivate_bonus_7_blower();
014A0:  CALL   06BA
....................                     
....................                     select_multiplexer_channel(1);
014A4:  MOVLW  01
014A6:  MOVWF  xC4
014A8:  CALL   023C
....................                     ComFeuAllume(1,1,1,1,r,3);
014AC:  MOVLW  01
014AE:  MOVWF  xC4
014B0:  MOVWF  xC5
014B2:  MOVWF  xC6
014B4:  MOVWF  xC7
014B6:  MOVFF  AF,C8
014BA:  MOVLW  03
014BC:  MOVWF  xC9
014BE:  CALL   0AA2
....................                     delay_ms(5);
014C2:  MOVLW  05
014C4:  MOVWF  xC5
014C6:  CALL   0214
....................                     
....................                     select_multiplexer_channel(2);
014CA:  MOVLW  02
014CC:  MOVWF  xC4
014CE:  CALL   023C
....................                     DFPlayer_PlaySongNb(3);
014D2:  MOVLW  03
014D4:  MOVWF  xC4
014D6:  CALL   03C0
....................                     delay_ms(5);
014DA:  MOVLW  05
014DC:  MOVWF  xC5
014DE:  CALL   0214
....................                     
....................                     finalTime = 9999;                                             // Affiche 9999 //
014E2:  MOVLW  27
014E4:  MOVWF  xAA
014E6:  MOVLW  0F
014E8:  MOVWF  xA9
....................                     
....................                     select_multiplexer_channel(0);
014EA:  CLRF   xC4
014EC:  CALL   023C
....................                     ComDisplay_Color(COLOR_RED);
014F0:  CLRF   xC4
014F2:  CALL   02C6
....................                     ComDisplay_Mode(MODE_NET_TIME);
014F6:  CLRF   xC4
014F8:  CALL   032A
....................                     ComDisplay_Time(99,99); 
014FC:  MOVLW  63
014FE:  MOVWF  xC8
01500:  MOVWF  xC9
01502:  CALL   07C4
....................                     delay_ms(5);
01506:  MOVLW  05
01508:  MOVWF  xC5
0150A:  CALL   0214
....................                     
....................                     state = ENDING;
0150E:  MOVLW  08
01510:  MOVWF  xAD
....................                 }
....................                                 
....................             break;
01512:  BRA    180C
....................             
.................... //============================================================================//                
....................             
....................             case TIME:                                                          // Montre temps intermédiaire pendant 2s // 
....................                 
....................                 secondaryCounterActivator = 1;
01514:  MOVLW  01
01516:  MOVWF  56
....................                 
....................                 if(secondaryCounter == 200)
01518:  MOVF   5B,W
0151A:  SUBLW  C8
0151C:  BNZ   1528
0151E:  MOVF   5C,F
01520:  BNZ   1528
....................                 {
....................                     secondaryCounterActivator = 0;                              
01522:  CLRF   56
....................                                                                                                  
....................                     state = RACE;
01524:  MOVLW  06
01526:  MOVWF  xAD
....................                 }
....................                 
....................                 //== COURSE TROP LONGUE ==//
....................                 if(counter >= 9999)
01528:  MOVF   5E,W
0152A:  SUBLW  26
0152C:  BC    15F8
0152E:  XORLW  FF
01530:  BNZ   1538
01532:  MOVF   5D,W
01534:  SUBLW  0E
01536:  BC    15F8
....................                 {
....................                     deactivate_bonus_7_blower();
01538:  CALL   06BA
....................                     
....................                     select_multiplexer_channel(1);
0153C:  MOVLW  01
0153E:  MOVWF  xC4
01540:  CALL   023C
....................                     ComFeuAllume(1,1,1,1,r,3);
01544:  MOVLW  01
01546:  MOVWF  xC4
01548:  MOVWF  xC5
0154A:  MOVWF  xC6
0154C:  MOVWF  xC7
0154E:  MOVFF  AF,C8
01552:  MOVLW  03
01554:  MOVWF  xC9
01556:  CALL   0AA2
....................                     delay_ms(5);
0155A:  MOVLW  05
0155C:  MOVWF  xC5
0155E:  CALL   0214
....................                     
....................                     select_multiplexer_channel(2);
01562:  MOVLW  02
01564:  MOVWF  xC4
01566:  CALL   023C
....................                     DFPlayer_PlaySongNb(4);
0156A:  MOVLW  04
0156C:  MOVWF  xC4
0156E:  CALL   03C0
....................                     delay_ms(5);
01572:  MOVLW  05
01574:  MOVWF  xC5
01576:  CALL   0214
....................                     
....................                     finalTime = counter;                                        // Affiche 9999 //
0157A:  MOVFF  5E,AA
0157E:  MOVFF  5D,A9
....................                     
....................                     select_multiplexer_channel(0);
01582:  CLRF   xC4
01584:  CALL   023C
....................                     ComDisplay_Color(COLOR_RED);
01588:  CLRF   xC4
0158A:  CALL   02C6
....................                     ComDisplay_Mode(MODE_NET_TIME);
0158E:  CLRF   xC4
01590:  CALL   032A
01594:  CLRF   1B
01596:  BTFSC  FF2.7
01598:  BSF    1B.7
0159A:  BCF    FF2.7
....................                     ComDisplay_Time(finalTime/100,finalTime%100); 
0159C:  MOVFF  AA,D7
015A0:  MOVFF  A9,D6
015A4:  CLRF   xD9
015A6:  MOVLW  64
015A8:  MOVWF  xD8
015AA:  CALL   016E
015AE:  BTFSC  1B.7
015B0:  BSF    FF2.7
015B2:  MOVFF  02,C5
015B6:  MOVFF  01,C4
015BA:  CLRF   1B
015BC:  BTFSC  FF2.7
015BE:  BSF    1B.7
015C0:  BCF    FF2.7
015C2:  MOVFF  AA,D7
015C6:  MOVFF  A9,D6
015CA:  CLRF   xD9
015CC:  MOVLW  64
015CE:  MOVWF  xD8
015D0:  CALL   016E
015D4:  BTFSC  1B.7
015D6:  BSF    FF2.7
015D8:  MOVFF  00,C6
015DC:  MOVFF  03,C7
015E0:  MOVFF  C4,C8
015E4:  MOVFF  00,C9
015E8:  CALL   07C4
....................                     delay_ms(5);
015EC:  MOVLW  05
015EE:  MOVWF  xC5
015F0:  CALL   0214
....................                     
....................                     state = ENDING;
015F4:  MOVLW  08
015F6:  MOVWF  xAD
....................                 }
....................                 
....................             break;
015F8:  BRA    180C
....................             
.................... //============================================================================//                
....................             
....................             case ENDING:                                                        // État final pour afficher le score //
....................                 
....................                 secondaryCounterActivator = 1;
015FA:  MOVLW  01
015FC:  MOVWF  56
....................                 
....................                 delay_ms(5);
015FE:  MOVLW  05
01600:  MOVWF  xC5
01602:  CALL   0214
....................                 select_multiplexer_channel(0);
01606:  CLRF   xC4
01608:  CALL   023C
.................... 
....................                 if(secondaryCounter == 50)                                      // Animation couleurs chronomètre //
0160C:  MOVF   5B,W
0160E:  SUBLW  32
01610:  BNZ   1674
01612:  MOVF   5C,F
01614:  BNZ   1674
01616:  CLRF   1B
01618:  BTFSC  FF2.7
0161A:  BSF    1B.7
0161C:  BCF    FF2.7
....................                 {
....................                     ComDisplay_Time(finalTime/100,finalTime%100);
0161E:  MOVFF  AA,D7
01622:  MOVFF  A9,D6
01626:  CLRF   xD9
01628:  MOVLW  64
0162A:  MOVWF  xD8
0162C:  CALL   016E
01630:  BTFSC  1B.7
01632:  BSF    FF2.7
01634:  MOVFF  02,C5
01638:  MOVFF  01,C4
0163C:  CLRF   1B
0163E:  BTFSC  FF2.7
01640:  BSF    1B.7
01642:  BCF    FF2.7
01644:  MOVFF  AA,D7
01648:  MOVFF  A9,D6
0164C:  CLRF   xD9
0164E:  MOVLW  64
01650:  MOVWF  xD8
01652:  CALL   016E
01656:  BTFSC  1B.7
01658:  BSF    FF2.7
0165A:  MOVFF  00,C6
0165E:  MOVFF  03,C7
01662:  MOVFF  C4,C8
01666:  MOVFF  00,C9
0166A:  CALL   07C4
....................                     ComDisplay_Color(COLOR_RED);
0166E:  CLRF   xC4
01670:  CALL   02C6
....................                 }
....................                 
....................                 if(secondaryCounter == 100)
01674:  MOVF   5B,W
01676:  SUBLW  64
01678:  BNZ   16DE
0167A:  MOVF   5C,F
0167C:  BNZ   16DE
0167E:  CLRF   1B
01680:  BTFSC  FF2.7
01682:  BSF    1B.7
01684:  BCF    FF2.7
....................                 {
....................                     ComDisplay_Time(finalTime/100,finalTime%100);
01686:  MOVFF  AA,D7
0168A:  MOVFF  A9,D6
0168E:  CLRF   xD9
01690:  MOVLW  64
01692:  MOVWF  xD8
01694:  CALL   016E
01698:  BTFSC  1B.7
0169A:  BSF    FF2.7
0169C:  MOVFF  02,C5
016A0:  MOVFF  01,C4
016A4:  CLRF   1B
016A6:  BTFSC  FF2.7
016A8:  BSF    1B.7
016AA:  BCF    FF2.7
016AC:  MOVFF  AA,D7
016B0:  MOVFF  A9,D6
016B4:  CLRF   xD9
016B6:  MOVLW  64
016B8:  MOVWF  xD8
016BA:  CALL   016E
016BE:  BTFSC  1B.7
016C0:  BSF    FF2.7
016C2:  MOVFF  00,C6
016C6:  MOVFF  03,C7
016CA:  MOVFF  C4,C8
016CE:  MOVFF  00,C9
016D2:  CALL   07C4
....................                     ComDisplay_Color(COLOR_GREEN);
016D6:  MOVLW  02
016D8:  MOVWF  xC4
016DA:  CALL   02C6
....................                 }
....................                 
....................                 if(secondaryCounter == 150)
016DE:  MOVF   5B,W
016E0:  SUBLW  96
016E2:  BNZ   1748
016E4:  MOVF   5C,F
016E6:  BNZ   1748
016E8:  CLRF   1B
016EA:  BTFSC  FF2.7
016EC:  BSF    1B.7
016EE:  BCF    FF2.7
....................                 {
....................                     ComDisplay_Time(finalTime/100,finalTime%100);
016F0:  MOVFF  AA,D7
016F4:  MOVFF  A9,D6
016F8:  CLRF   xD9
016FA:  MOVLW  64
016FC:  MOVWF  xD8
016FE:  CALL   016E
01702:  BTFSC  1B.7
01704:  BSF    FF2.7
01706:  MOVFF  02,C5
0170A:  MOVFF  01,C4
0170E:  CLRF   1B
01710:  BTFSC  FF2.7
01712:  BSF    1B.7
01714:  BCF    FF2.7
01716:  MOVFF  AA,D7
0171A:  MOVFF  A9,D6
0171E:  CLRF   xD9
01720:  MOVLW  64
01722:  MOVWF  xD8
01724:  CALL   016E
01728:  BTFSC  1B.7
0172A:  BSF    FF2.7
0172C:  MOVFF  00,C6
01730:  MOVFF  03,C7
01734:  MOVFF  C4,C8
01738:  MOVFF  00,C9
0173C:  CALL   07C4
....................                     ComDisplay_Color(COLOR_BLUE);
01740:  MOVLW  03
01742:  MOVWF  xC4
01744:  CALL   02C6
....................                 }
....................                 
....................                 if(secondaryCounter == 200)
01748:  MOVF   5B,W
0174A:  SUBLW  C8
0174C:  BNZ   17B2
0174E:  MOVF   5C,F
01750:  BNZ   17B2
01752:  CLRF   1B
01754:  BTFSC  FF2.7
01756:  BSF    1B.7
01758:  BCF    FF2.7
....................                 {
....................                     ComDisplay_Time(finalTime/100,finalTime%100);
0175A:  MOVFF  AA,D7
0175E:  MOVFF  A9,D6
01762:  CLRF   xD9
01764:  MOVLW  64
01766:  MOVWF  xD8
01768:  CALL   016E
0176C:  BTFSC  1B.7
0176E:  BSF    FF2.7
01770:  MOVFF  02,C5
01774:  MOVFF  01,C4
01778:  CLRF   1B
0177A:  BTFSC  FF2.7
0177C:  BSF    1B.7
0177E:  BCF    FF2.7
01780:  MOVFF  AA,D7
01784:  MOVFF  A9,D6
01788:  CLRF   xD9
0178A:  MOVLW  64
0178C:  MOVWF  xD8
0178E:  CALL   016E
01792:  BTFSC  1B.7
01794:  BSF    FF2.7
01796:  MOVFF  00,C6
0179A:  MOVFF  03,C7
0179E:  MOVFF  C4,C8
017A2:  MOVFF  00,C9
017A6:  CALL   07C4
....................                     ComDisplay_Color(COLOR_ORANGE);
017AA:  MOVLW  01
017AC:  MOVWF  xC4
017AE:  CALL   02C6
....................                 }
....................                 
....................                 if(secondaryCounter == 210)
017B2:  MOVF   5B,W
017B4:  SUBLW  D2
017B6:  BNZ   17C0
017B8:  MOVF   5C,F
017BA:  BNZ   17C0
....................                 {
....................                     secondaryCounter = 0;
017BC:  CLRF   5C
017BE:  CLRF   5B
....................                 }
....................                     
....................                 if(buzzer == 0 && prevBuzzer == 1)                              // Envoie à l'état initial //
017C0:  MOVF   xB1,F
017C2:  BNZ   180C
017C4:  DECFSZ xC2,W
017C6:  BRA    180C
....................                 {    
....................                     select_multiplexer_channel(0);
017C8:  CLRF   xC4
017CA:  CALL   023C
....................                     ComDisplay_Color(COLOR_RED);
017CE:  CLRF   xC4
017D0:  CALL   02C6
....................                     ComDisplay_Mode(MODE_RUNNING_TIME);
017D4:  MOVLW  01
017D6:  MOVWF  xC4
017D8:  CALL   032A
....................                     ComDisplay_Time(zero/100,zero%100);
017DC:  MOVFF  AE,D0
017E0:  MOVLW  64
017E2:  MOVWF  xD1
017E4:  CALL   06DA
017E8:  MOVFF  01,C4
017EC:  MOVFF  AE,D0
017F0:  MOVLW  64
017F2:  MOVWF  xD1
017F4:  CALL   06DA
017F8:  MOVFF  00,C5
017FC:  MOVFF  C4,C8
01800:  MOVFF  00,C9
01804:  CALL   07C4
....................                     state = STARTING;
01808:  MOVLW  01
0180A:  MOVWF  xAD
....................                 }
....................                 
....................             break;
....................             
.................... //============================================================================//
.................... //FIN LECTURE DES ÉTATS
.................... //============================================================================//               
....................         }
....................     
....................         delay_us(10);
0180C:  MOVLW  0D
0180E:  MOVWF  00
01810:  DECFSZ 00,F
01812:  BRA    1810
....................         
....................     //== FLANCS DESCENDANTS ==//           
....................     prevBuzzer = buzzer;
01814:  MOVFF  B1,C2
....................   
....................     delay_ms(2);
01818:  MOVLW  02
0181A:  MOVWF  xC5
0181C:  CALL   0214
01820:  GOTO   0D1C
....................     
....................     }   //== FIN BOUCLE INFINIE ==//      
....................    
.................... }
01824:  BRA    1824

Configuration Fuses:
   Word  1: FF8C   NOEXTOSC RSTOSC_HFINTRC_64MHZ NOCLKOUT CKS FCMEN
   Word  2: CF3F   MCLR NOPUT NOLPBOR NOBROWNOUT BORV19 ZCDDIS PPS1WAY NOSTVREN DEBUG NOXINST
   Word  3: FF9F   WDTSW NOWDT WDTWIN_SW WDTCLK_SW
   Word  4: DFFF   NOWRT NOWRTC NOWRTB NOWRTD SCANE NOLVP
   Word  5: FFFF   NOPROTECT NOCPD
   Word  6: FFFF   NOEBTR NOEBTRB

   Some fuses have been forced to be compatible with the ICD debugger.
